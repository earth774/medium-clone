# üìÖ ‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà 1 ‚Äî Foundation (‡∏£‡∏≤‡∏Å‡∏ê‡∏≤‡∏ô)

‡πÄ‡∏õ‡πâ‡∏≤‡∏´‡∏°‡∏≤‡∏¢‡∏ß‡∏±‡∏ô‡∏ô‡∏µ‡πâ: ‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÇ‡∏Ñ‡∏£‡∏á‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÇ‡∏õ‡∏£‡πÄ‡∏à‡∏Å‡∏ï‡πå, ‡∏£‡∏∞‡∏ö‡∏ö Auth, ‡πÅ‡∏•‡∏∞ Feed ‡πÅ‡∏™‡∏î‡∏á‡∏ö‡∏ó‡∏Ñ‡∏ß‡∏≤‡∏°‡πÑ‡∏î‡πâ

> üìñ [‡∏Å‡∏•‡∏±‡∏ö‡πÑ‡∏õ‡∏´‡∏ô‡πâ‡∏≤‡∏´‡∏•‡∏±‡∏Å](LEARNING_GUIDE.md)

---

## Step 1.1 ‚Äî Setup ‡πÇ‡∏õ‡∏£‡πÄ‡∏à‡∏Å‡∏ï‡πå

### ‡∏ó‡∏≥‡∏≠‡∏∞‡πÑ‡∏£
- ‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÇ‡∏õ‡∏£‡πÄ‡∏à‡∏Å‡∏ï‡πå Next.js 14 ‡∏î‡πâ‡∏ß‡∏¢ App Router
- ‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á Prisma ‡πÅ‡∏•‡∏∞‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠ SQLite
- ‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á Tailwind CSS
- ‡∏™‡∏£‡πâ‡∏≤‡∏á Layout ‡∏û‡∏∑‡πâ‡∏ô‡∏ê‡∏≤‡∏ô (Header, Navigation)

### ‡∏≠‡∏ò‡∏¥‡∏ö‡∏≤‡∏¢
- **Next.js 14 App Router** ‚Äî ‡πÇ‡∏Ñ‡∏£‡∏á‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÉ‡∏´‡∏°‡πà‡πÉ‡∏ä‡πâ‡πÇ‡∏ü‡∏•‡πÄ‡∏î‡∏≠‡∏£‡πå `app/` ‡πÅ‡∏ó‡∏ô `pages/` ‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö Server Components, Layouts, ‡πÅ‡∏•‡∏∞ API Routes
- **Prisma** ‚Äî ORM ‡∏ó‡∏µ‡πà‡∏ä‡πà‡∏ß‡∏¢‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô query ‡πÅ‡∏ö‡∏ö type-safe ‡πÅ‡∏•‡∏∞‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£ migration
- **SQLite** ‚Äî ‡∏ê‡∏≤‡∏ô‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÑ‡∏ü‡∏•‡πå ‡πÑ‡∏°‡πà‡∏ï‡πâ‡∏≠‡∏á setup server ‡∏£‡∏±‡∏ô‡πÑ‡∏î‡πâ‡∏ó‡∏±‡∏ô‡∏ó‡∏µ ‡πÄ‡∏´‡∏°‡∏≤‡∏∞‡∏Å‡∏±‡∏ö development
- **Layout** ‚Äî ‡πÉ‡∏ä‡πâ `app/layout.tsx` ‡πÄ‡∏õ‡πá‡∏ô root layout ‡πÅ‡∏™‡∏î‡∏á Header/Nav ‡∏ã‡πâ‡∏≥‡∏ó‡∏∏‡∏Å‡∏´‡∏ô‡πâ‡∏≤

### Backend
1. `npx create-next-app@latest` ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å App Router, Tailwind, TypeScript
2. `npm install prisma @prisma/client`
3. `npx prisma init`
4. ‡πÅ‡∏Å‡πâ `DATABASE_URL` ‡πÉ‡∏ô `.env` ‡πÄ‡∏õ‡πá‡∏ô `file:./dev.db` (SQLite ‚Äî ‡πÑ‡∏°‡πà‡∏ï‡πâ‡∏≠‡∏á setup ‡∏≠‡∏∞‡πÑ‡∏£‡πÄ‡∏û‡∏¥‡πà‡∏°)

### Frontend
1. ‡∏™‡∏£‡πâ‡∏≤‡∏á `app/layout.tsx` ‚Äî ‡πÉ‡∏™‡πà `<html>`, `<body>`, font (‡πÄ‡∏ä‡πà‡∏ô Inter)
2. ‡∏™‡∏£‡πâ‡∏≤‡∏á `components/Header.tsx` ‚Äî logo, ‡∏•‡∏¥‡∏á‡∏Å‡πå‡πÑ‡∏õ `/`, `/login`, `/register`
3. ‡∏™‡∏£‡πâ‡∏≤‡∏á `components/Nav.tsx` ‚Äî ‡πÄ‡∏°‡∏ô‡∏π‡∏ô‡∏≥‡∏ó‡∏≤‡∏á (‡∏ñ‡πâ‡∏≤‡πÅ‡∏¢‡∏Å‡∏à‡∏≤‡∏Å Header)
4. ‡πÉ‡∏ä‡πâ Tailwind ‡∏à‡∏±‡∏î layout ‡∏û‡∏∑‡πâ‡∏ô‡∏ê‡∏≤‡∏ô ‡πÄ‡∏ä‡πà‡∏ô `max-w-4xl mx-auto px-4`

### Code (Theme: ‡∏Ç‡∏≤‡∏ß‡∏î‡∏≥ minimal)

**`app/layout.tsx`** ‚Äî ‡πÉ‡∏™‡πà `suppressHydrationWarning` ‡∏ó‡∏µ‡πà html/body ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏•‡∏î hydration warning ‡∏à‡∏≤‡∏Å browser extensions
```tsx
import type { Metadata } from "next";
import { Inter } from "next/font/google";
import "./globals.css";
import Header from "./components/Header";

const inter = Inter({
  variable: "--font-geist-sans",
  subsets: ["latin"],
});

export const metadata: Metadata = {
  title: "Create Next App",
  description: "Generated by create next app",
};

export default function RootLayout({
  children,
}: Readonly<{
  children: React.ReactNode;
}>) {
  return (
    <html lang="th" className="bg-white text-black" suppressHydrationWarning>
      <body className={`${inter.className} min-h-screen antialiased`} suppressHydrationWarning>
        <Header />
        <main className="max-w-2xl mx-auto px-4 py-8">{children}</main>
      </body>
    </html>
  )
}
```

**`components/Header.tsx`** (‡πÄ‡∏°‡∏∑‡πà‡∏≠ login ‡πÅ‡∏™‡∏î‡∏á Profile, ‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤, ‡∏ä‡∏∑‡πà‡∏≠ user, Logout)

‚ö†Ô∏è **Hydration fix:** ‡πÉ‡∏ä‡πâ `mounted` state ‚Äî ‡πÅ‡∏™‡∏î‡∏á Login/Register ‡∏Å‡πà‡∏≠‡∏ô mount ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÉ‡∏´‡πâ server/client render ‡πÄ‡∏´‡∏°‡∏∑‡∏≠‡∏ô‡∏Å‡∏±‡∏ô ‡πÅ‡∏•‡πâ‡∏ß‡∏Ñ‡πà‡∏≠‡∏¢‡∏≠‡πà‡∏≤‡∏ô localStorage
```tsx
'use client'

import Link from 'next/link'
import { useRouter } from 'next/navigation'
import { useEffect, useState } from 'react'

export default function Header() {
  return (
    <header className="border-b border-gray-200 bg-white">
      <nav className="max-w-2xl mx-auto px-4 py-4 flex items-center justify-between">
        <Link href="/" className="text-xl font-semibold text-black hover:text-gray-600">
          Medium
        </Link>
        <div className="flex gap-4 items-center" suppressHydrationWarning>
            <>
              <Link href="/login" className="text-gray-600 hover:text-black">Login</Link>
              <Link href="/register" className="text-gray-600 hover:text-black">Register</Link>
            </>
        </div>
      </nav>
    </header>
  )
}
```

---

## Step 1.2 ‚Äî Database schema + Status + DBML

### ‡∏ó‡∏≥‡∏≠‡∏∞‡πÑ‡∏£
- ‡∏≠‡∏≠‡∏Å‡πÅ‡∏ö‡∏ö schema ‡πÉ‡∏ô `prisma/schema.prisma` ‡πÉ‡∏´‡πâ‡∏ï‡∏£‡∏á‡∏Å‡∏±‡∏ö‡πÅ‡∏ö‡∏ö‡∏à‡∏≥‡∏•‡∏≠‡∏á‡πÉ‡∏ô `schema.dbml`
- ‡∏™‡∏£‡πâ‡∏≤‡∏á tables/models: `status`, `user`, `article`, `article_like` (‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö Like ‡πÉ‡∏ô DAY_2)
- ‡∏£‡∏±‡∏ô migration ‡πÅ‡∏•‡∏∞ seed ‡∏ï‡∏≤‡∏£‡∏≤‡∏á `status`
- ‡∏™‡∏£‡πâ‡∏≤‡∏á Prisma Client singleton
- ‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô `schema.dbml` ‡πÄ‡∏õ‡πá‡∏ô‡πÄ‡∏≠‡∏Å‡∏™‡∏≤‡∏£‡πÇ‡∏Ñ‡∏£‡∏á‡∏™‡∏£‡πâ‡∏≤‡∏á DB ‡πÅ‡∏ö‡∏ö DBML (‡πÑ‡∏ü‡∏•‡πå‡∏´‡∏•‡∏±‡∏Å‡∏≠‡πâ‡∏≤‡∏á‡∏≠‡∏¥‡∏á‡πÇ‡∏Ñ‡∏£‡∏á‡∏™‡∏£‡πâ‡∏≤‡∏á)

### ‡∏≠‡∏ò‡∏¥‡∏ö‡∏≤‡∏¢
- **Status (`status`)** ‚Äî 1=Active, 2=Inactive, 3=Deleted (‡πÉ‡∏ä‡πâ soft delete, ‡πÄ‡∏Å‡πá‡∏ö‡πÉ‡∏ô table `status`)
- **User (`user`)** ‚Äî ‡πÄ‡∏Å‡πá‡∏ö id, email, password, name, `status_id`, `created_at`, `updated_at`
- **Article (`article`)** ‚Äî ‡πÄ‡∏Å‡πá‡∏ö id, title, content, `user_id`, `status_id`, `created_at`, `updated_at`
- **ArticleLike (`article_like`)** ‚Äî ‡πÄ‡∏Å‡πá‡∏ö‡∏Å‡∏≤‡∏£‡∏Å‡∏î like ‡∏Ç‡∏≠‡∏á user ‡∏ï‡πà‡∏≠‡∏ö‡∏ó‡∏Ñ‡∏ß‡∏≤‡∏°, ‡πÉ‡∏ä‡πâ‡∏Ñ‡∏π‡πà key (`user_id`, `article_id`) ‡πÉ‡∏´‡πâ like ‡πÑ‡∏î‡πâ‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡πÄ‡∏î‡∏µ‡∏¢‡∏ß
- **Relation** ‚Äî ‡∏ó‡∏∏‡∏Å table ‡∏ó‡∏µ‡πà‡∏°‡∏µ `status_id` ‡∏à‡∏∞‡∏ä‡∏µ‡πâ‡πÑ‡∏õ‡∏ó‡∏µ‡πà `status.id`
- **schema.dbml** ‚Äî ‡πÑ‡∏ü‡∏•‡πå DBML ‡πÉ‡∏ä‡πâ‡∏î‡∏π‡πÇ‡∏Ñ‡∏£‡∏á‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏ï‡∏≤‡∏£‡∏≤‡∏á‡πÅ‡∏•‡∏∞‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏±‡∏°‡∏û‡∏±‡∏ô‡∏ò‡πå (source of truth ‡∏Ç‡∏≠‡∏á‡πÇ‡∏Ñ‡∏£‡∏á‡∏™‡∏£‡πâ‡∏≤‡∏á DB)

### Backend
1. ‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô schema ‡πÉ‡∏ô `prisma/schema.prisma` ‡∏ï‡∏≤‡∏°‡πÅ‡∏ö‡∏ö `schema.dbml`
2. ‡∏™‡∏£‡πâ‡∏≤‡∏á `.env` ‡∏°‡∏µ `DATABASE_URL="file:./dev.db"`
3. ‡∏™‡∏£‡πâ‡∏≤‡∏á `lib/prisma.ts` ‚Äî export PrismaClient singleton
4. ‡∏™‡∏£‡πâ‡∏≤‡∏á `prisma/seed.ts` ‚Äî ‡πÉ‡∏™‡πà‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• status (Active, Inactive, Deleted)
5. ‡πÉ‡∏ä‡πâ `schema.dbml` ‡πÄ‡∏õ‡πá‡∏ô‡πÇ‡∏Ñ‡∏£‡∏á‡∏™‡∏£‡πâ‡∏≤‡∏á DB ‡πÅ‡∏ö‡∏ö DBML ‡∏î‡∏π‡πÑ‡∏î‡πâ‡∏ó‡∏µ‡πà [schema.dbml](schema.dbml)

### ‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏£‡∏±‡∏ô (Run)

‡∏£‡∏±‡∏ô‡∏ï‡∏≤‡∏°‡∏•‡∏≥‡∏î‡∏±‡∏ö:

| ‡∏•‡∏≥‡∏î‡∏±‡∏ö | ‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á | ‡∏ó‡∏≥‡∏≠‡∏∞‡πÑ‡∏£ |
|-------|--------|--------|
| 1 | `npx prisma generate` | ‡∏™‡∏£‡πâ‡∏≤‡∏á Prisma Client ‡∏à‡∏≤‡∏Å schema (‡∏ï‡πâ‡∏≠‡∏á‡∏£‡∏±‡∏ô‡∏ó‡∏∏‡∏Å‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡∏ó‡∏µ‡πà‡πÅ‡∏Å‡πâ schema) |
| 2 | `npx prisma migrate dev --name init` | ‡∏™‡∏£‡πâ‡∏≤‡∏á migration + ‡∏ï‡∏≤‡∏£‡∏≤‡∏á‡πÉ‡∏ô DB (‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡πÅ‡∏£‡∏Å‡πÉ‡∏ä‡πâ `--name init`) |
| 3 | `npx prisma db seed` | ‡∏£‡∏±‡∏ô seed ‡πÉ‡∏™‡πà‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ï‡∏≤‡∏£‡∏≤‡∏á `status` (1 Active, 2 Inactive, 3 Deleted) |

**‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏´‡∏ï‡∏∏**
- ‡∏Å‡πà‡∏≠‡∏ô‡∏£‡∏±‡∏ô `db seed` ‡∏ï‡πâ‡∏≠‡∏á‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤‡πÉ‡∏ô `package.json`: `"prisma": { "seed": "npx tsx prisma/seed.ts" }` ‡πÅ‡∏•‡∏∞‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á tsx (`npm i -D tsx`) ‚Äî ‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥‡πÉ‡∏ä‡πâ tsx ‡πÄ‡∏û‡∏£‡∏≤‡∏∞‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö ESM ‡πÅ‡∏•‡∏∞ custom output ‡∏Ç‡∏≠‡∏á Prisma ‡πÑ‡∏î‡πâ‡∏î‡∏µ
- ‡∏ñ‡πâ‡∏≤ schema ‡∏Å‡∏≥‡∏´‡∏ô‡∏î `output` ‡πÄ‡∏õ‡πá‡∏ô path ‡∏≠‡∏∑‡πà‡∏ô (‡πÄ‡∏ä‡πà‡∏ô `../app/generated/prisma`) ‡πÉ‡∏ô `prisma/seed.ts` ‡∏ï‡πâ‡∏≠‡∏á import ‡∏à‡∏≤‡∏Å path ‡∏ô‡∏±‡πâ‡∏ô ‡πÑ‡∏°‡πà‡πÉ‡∏ä‡πà `@prisma/client` (‡πÄ‡∏ä‡πà‡∏ô `import { PrismaClient } from '../app/generated/prisma/client'`)
- ‡πÅ‡∏Å‡πâ `schema.prisma` ‡πÅ‡∏•‡πâ‡∏ß‡∏ï‡πâ‡∏≠‡∏á‡∏£‡∏±‡∏ô `npx prisma generate` ‡πÉ‡∏´‡∏°‡πà
- ‡∏°‡∏µ migration ‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÉ‡∏ô‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡∏ñ‡∏±‡∏î‡πÑ‡∏õ: ‡πÉ‡∏ä‡πâ `npx prisma migrate dev --name <‡∏ä‡∏∑‡πà‡∏≠‡∏Å‡∏≤‡∏£‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡πÅ‡∏õ‡∏•‡∏á>`

### Frontend
- Step ‡∏ô‡∏µ‡πâ‡πÄ‡∏õ‡πá‡∏ô backend ‡πÄ‡∏õ‡πá‡∏ô‡∏´‡∏•‡∏±‡∏Å ‚Äî ‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏ó‡∏≥ UI ‡πÄ‡∏û‡∏¥‡πà‡∏°

### Code

**`schema.dbml`**
```dbml
// ============================================
// Medium Clone ‚Äî Database Schema (DBML)
// ============================================

// ‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞ (Active / Inactive / Deleted)
Table status {
  id integer [primary key, not null, note: "‡∏£‡∏´‡∏±‡∏™‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞ (PK) ‚Äî 1=Active, 2=Inactive, 3=Deleted"]
  name varchar [not null, note: "‡∏ä‡∏∑‡πà‡∏≠‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞"]
}

// ‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ
Table user {
  id varchar [primary key, not null, note: "‡∏£‡∏´‡∏±‡∏™‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ (PK, CUID)"]
  email varchar [not null, unique, note: "‡∏≠‡∏µ‡πÄ‡∏°‡∏• (unique)"]
  password varchar [not null, note: "‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô (hash)"]
  name varchar [not null, note: "‡∏ä‡∏∑‡πà‡∏≠‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ"]
  status_id integer [not null, default: 1, ref: > status.id, note: "‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞ (FK -> status.id)"]
  created_at timestamp [not null, note: "‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•"]
  updated_at timestamp [not null, note: "‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡∏•‡πà‡∏≤‡∏™‡∏∏‡∏î"]

  Indexes {
    email [unique]
    status_id
  }
}

// ‡∏ö‡∏ó‡∏Ñ‡∏ß‡∏≤‡∏°
Table article {
  id varchar [primary key, not null, note: "‡∏£‡∏´‡∏±‡∏™‡∏ö‡∏ó‡∏Ñ‡∏ß‡∏≤‡∏° (PK, CUID)"]
  title varchar [not null, note: "‡∏´‡∏±‡∏ß‡∏Ç‡πâ‡∏≠‡∏ö‡∏ó‡∏Ñ‡∏ß‡∏≤‡∏°"]
  content text [not null, note: "‡πÄ‡∏ô‡∏∑‡πâ‡∏≠‡∏´‡∏≤‡∏ö‡∏ó‡∏Ñ‡∏ß‡∏≤‡∏° (HTML ‡∏à‡∏≤‡∏Å Rich Text Editor)"]
  user_id varchar [not null, ref: > user.id, note: "‡∏£‡∏´‡∏±‡∏™‡∏ú‡∏π‡πâ‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô (FK -> user.id, CASCADE on delete)"]
  status_id integer [not null, default: 1, ref: > status.id, note: "‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞ (FK -> status.id)"]
  created_at timestamp [not null, note: "‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•"]
  updated_at timestamp [not null, note: "‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡∏•‡πà‡∏≤‡∏™‡∏∏‡∏î"]

  Indexes {
    user_id
    status_id
    (user_id, created_at) [note: "‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏î‡∏∂‡∏á‡∏ö‡∏ó‡∏Ñ‡∏ß‡∏≤‡∏°‡∏Ç‡∏≠‡∏á user ‡πÄ‡∏£‡∏µ‡∏¢‡∏á‡∏ï‡∏≤‡∏°‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà"]
  }
}

// =========================
// ‡∏´‡∏°‡∏ß‡∏î‡∏´‡∏°‡∏π‡πà (Category)
// =========================
Table category {
  id integer [primary key, not null, note: "‡∏£‡∏´‡∏±‡∏™‡∏´‡∏°‡∏ß‡∏î‡∏´‡∏°‡∏π‡πà (PK, AUTO_INCREMENT)"]
  name varchar [not null, unique, note: "‡∏ä‡∏∑‡πà‡∏≠‡∏´‡∏°‡∏ß‡∏î‡∏´‡∏°‡∏π‡πà (unique)"]
  status_id integer [not null, default: 1, ref: > status.id, note: "‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞ (FK -> status.id)"]
  created_at timestamp [not null, note: "‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•"]
  updated_at timestamp [not null, note: "‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡∏•‡πà‡∏≤‡∏™‡∏∏‡∏î"]

  Indexes {
    name [unique]
    status_id
  }
}

// ‡∏ö‡∏ó‡∏Ñ‡∏ß‡∏≤‡∏°‡∏´‡∏ô‡∏∂‡πà‡∏á‡∏≠‡∏¢‡∏π‡πà‡πÑ‡∏î‡πâ‡∏´‡∏•‡∏≤‡∏¢‡∏´‡∏°‡∏ß‡∏î, ‡∏´‡∏°‡∏ß‡∏î‡∏´‡∏ô‡∏∂‡πà‡∏á‡∏°‡∏µ‡∏´‡∏•‡∏≤‡∏¢‡∏ö‡∏ó‡∏Ñ‡∏ß‡∏≤‡∏°
Table article_category {
  id integer [primary key, not null, note: "‡∏£‡∏´‡∏±‡∏™ (PK, AUTO_INCREMENT)"]
  article_id varchar [not null, ref: > article.id, note: "‡∏£‡∏´‡∏±‡∏™‡∏ö‡∏ó‡∏Ñ‡∏ß‡∏≤‡∏° (FK -> article.id, CASCADE on delete)"]
  category_id integer [not null, ref: > category.id, note: "‡∏£‡∏´‡∏±‡∏™‡∏´‡∏°‡∏ß‡∏î‡∏´‡∏°‡∏π‡πà (FK -> category.id)"]
  created_at timestamp [not null, note: "‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏±‡∏°‡∏û‡∏±‡∏ô‡∏ò‡πå"]
  updated_at timestamp [not null, note: "‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡∏•‡πà‡∏≤‡∏™‡∏∏‡∏î"]

  Indexes {
    (article_id, category_id) [unique, note: "‡∏´‡∏ô‡∏∂‡πà‡∏á‡∏ö‡∏ó‡∏Ñ‡∏ß‡∏≤‡∏°-‡∏´‡∏ô‡∏∂‡πà‡∏á‡∏´‡∏°‡∏ß‡∏î‡∏´‡∏°‡∏π‡πà ‡∏°‡∏µ‡πÑ‡∏î‡πâ‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡πÄ‡∏î‡∏µ‡∏¢‡∏ß"]
    article_id
    category_id
  }
}


// Like ‡∏ö‡∏ó‡∏Ñ‡∏ß‡∏≤‡∏° (‡∏´‡∏ô‡∏∂‡πà‡∏á user like ‡∏´‡∏ô‡∏∂‡πà‡∏á‡∏ö‡∏ó‡∏Ñ‡∏ß‡∏≤‡∏°‡πÑ‡∏î‡πâ‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡πÄ‡∏î‡∏µ‡∏¢‡∏ß)
Table article_like {
  id varchar [primary key, not null, note: "‡∏£‡∏´‡∏±‡∏™ (PK, CUID)"]
  user_id varchar [not null, ref: > user.id, note: "‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ (FK -> user.id)"]
  article_id varchar [not null, ref: > article.id, note: "‡∏ö‡∏ó‡∏Ñ‡∏ß‡∏≤‡∏° (FK -> article.id)"]
  status_id integer [not null, default: 1, ref: > status.id, note: "‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞ (FK -> status.id)"]
  created_at timestamp [not null, note: "‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà like"]
  updated_at timestamp [not null, note: "‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡∏•‡πà‡∏≤‡∏™‡∏∏‡∏î"]

  Indexes {
    (user_id, article_id) [unique, note: "‡∏´‡∏ô‡∏∂‡πà‡∏á user like ‡∏´‡∏ô‡∏∂‡πà‡∏á‡∏ö‡∏ó‡∏Ñ‡∏ß‡∏≤‡∏°‡πÑ‡∏î‡πâ‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡πÄ‡∏î‡∏µ‡∏¢‡∏ß"]
    article_id
  }
}

```

**`prisma/schema.prisma` (‡πÄ‡∏â‡∏û‡∏≤‡∏∞‡∏™‡πà‡∏ß‡∏ô model)**  
```prisma
model Status {
  id      Int     @id
  name    String
  users   User[]
  articles Article[]
  likes   ArticleLike[]

  @@map("status")
}

model User {
  id        String   @id @default(cuid())
  email     String   @unique
  password  String
  name      String
  statusId  Int      @default(1) @map("status_id")
  status    Status   @relation(fields: [statusId], references: [id])
  createdAt DateTime @default(now()) @map("created_at")
  updatedAt DateTime @default(now()) @updatedAt @map("updated_at")
  articles  Article[]
  likes     ArticleLike[]

  @@map("user")
}

model Category {
  id        Int      @id
  name      String
  statusId  Int      @default(1) @map("status_id")
  status    Status   @relation(fields: [statusId], references: [id])
  createdAt DateTime @default(now()) @map("created_at")
  updatedAt DateTime @default(now()) @updatedAt @map("updated_at")
  articles  Article[]
}

model Article {
  id        String   @id @default(cuid())
  title     String
  content   String
  authorId  String   @map("user_id")
  author    User     @relation(fields: [authorId], references: [id])
  statusId  Int      @default(1) @map("status_id")
  status    Status   @relation(fields: [statusId], references: [id])
  createdAt DateTime @default(now()) @map("created_at")
  updatedAt DateTime @default(now()) @updatedAt @map("updated_at")
  likes     ArticleLike[]

  @@map("article")
}

model ArticleCategory {
  id        Int      @id
  articleId String   @map("article_id")
  article   Article  @relation(fields: [articleId], references: [id])
  categoryId Int      @map("category_id")
  category  Category @relation(fields: [categoryId], references: [id])
  statusId  Int      @default(1) @map("status_id")
  status    Status   @relation(fields: [statusId], references: [id])
  createdAt DateTime @default(now()) @map("created_at")
  updatedAt DateTime @default(now()) @updatedAt @map("updated_at")

  @@map("article_category")
}

model ArticleLike {
  id        String   @id @default(cuid())
  userId    String   @map("user_id")
  user      User     @relation(fields: [userId], references: [id])
  articleId String   @map("article_id")
  article   Article  @relation(fields: [articleId], references: [id])
  statusId  Int      @default(1) @map("status_id")
  status    Status   @relation(fields: [statusId], references: [id])
  createdAt DateTime @default(now()) @map("created_at")
  updatedAt DateTime @default(now()) @updatedAt @map("updated_at")

  @@unique([userId, articleId])
  @@map("article_like")
}
```

**`prisma/seed.ts`**
```ts
import { PrismaClient } from '../app/generated/prisma/client'

const prisma = new PrismaClient()

async function main() {
  await prisma.status.upsert({
    where: { id: 1 },
    update: {},
    create: { id: 1, name: 'Active' },
  })

  await prisma.status.upsert({
    where: { id: 2 },
    update: {},
    create: { id: 2, name: 'Inactive' },
  })

  await prisma.status.upsert({
    where: { id: 3 },
    update: {},
    create: { id: 3, name: 'Deleted' },
  })
}

main()
  .catch((e) => {
    console.error(e)
    process.exit(1)
  })
  .finally(async () => {
    await prisma.$disconnect()
  })
```

**`lib/prisma.ts`**

‡πÉ‡∏ä‡πâ‡πÅ‡∏ö‡∏ö **singleton** ‚Äî ‡∏™‡∏£‡πâ‡∏≤‡∏á Prisma Client ‡πÅ‡∏Ñ‡πà instance ‡πÄ‡∏î‡∏µ‡∏¢‡∏ß ‡πÅ‡∏•‡πâ‡∏ß reuse ‡∏ï‡∏•‡∏≠‡∏î‡∏ó‡∏±‡πâ‡∏á app  

- **‡πÄ‡∏´‡∏ï‡∏∏‡∏ú‡∏•:** ‡πÉ‡∏ô‡πÇ‡∏´‡∏°‡∏î development ‡πÄ‡∏ß‡∏•‡∏≤ hot reload (‡πÄ‡∏ä‡πà‡∏ô Next.js) ‡∏ñ‡πâ‡∏≤ `new PrismaClient()` ‡∏ñ‡∏π‡∏Å‡πÄ‡∏£‡∏µ‡∏¢‡∏Å‡∏´‡∏•‡∏≤‡∏¢‡∏Ñ‡∏£‡∏±‡πâ‡∏á ‡∏à‡∏∞‡∏°‡∏µ connection ‡πÑ‡∏õ‡∏ó‡∏µ‡πà DB ‡πÄ‡∏¢‡∏≠‡∏∞‡∏à‡∏ô‡πÄ‡∏Å‡∏¥‡∏ô limit ‡πÑ‡∏î‡πâ  
- **‡∏ß‡∏¥‡∏ò‡∏µ‡∏ó‡∏≥:** ‡πÄ‡∏Å‡πá‡∏ö instance ‡πÑ‡∏ß‡πâ‡πÉ‡∏ô `globalThis` (‡πÉ‡∏ô Node/Edge ‡πÑ‡∏°‡πà‡∏´‡∏≤‡∏¢‡πÄ‡∏°‡∏∑‡πà‡∏≠‡πÑ‡∏ü‡∏•‡πå‡∏ñ‡∏π‡∏Å‡πÇ‡∏´‡∏•‡∏î‡πÉ‡∏´‡∏°‡πà) ‡∏ñ‡πâ‡∏≤‡∏°‡∏µ‡∏≠‡∏¢‡∏π‡πà‡πÅ‡∏•‡πâ‡∏ß‡πÉ‡∏ä‡πâ‡∏ï‡∏±‡∏ß‡πÄ‡∏î‡∏¥‡∏° ‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏Ñ‡πà‡∏≠‡∏¢‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÉ‡∏´‡∏°‡πà  
- **production:** ‡∏°‡∏±‡∏Å‡πÇ‡∏´‡∏•‡∏î‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡πÄ‡∏î‡∏µ‡∏¢‡∏ß ‡∏à‡∏∂‡∏á‡πÑ‡∏°‡πà‡∏à‡∏≥‡πÄ‡∏õ‡πá‡∏ô‡∏ï‡πâ‡∏≠‡∏á‡πÄ‡∏Å‡πá‡∏ö‡πÉ‡∏ô global ‡∏Å‡πá‡πÑ‡∏î‡πâ ‡πÅ‡∏ï‡πà‡πÉ‡∏ä‡πâ pattern ‡πÄ‡∏î‡∏µ‡∏¢‡∏ß‡∏Å‡∏±‡∏ô‡πÑ‡∏î‡πâ‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏õ‡∏±‡∏ç‡∏´‡∏≤  

```ts
import { PrismaClient } from '@prisma/client'

const globalForPrisma = globalThis as unknown as { prisma: PrismaClient }
export const prisma = globalForPrisma.prisma || new PrismaClient()
if (process.env.NODE_ENV !== 'production') globalForPrisma.prisma = prisma
```

**‡πÇ‡∏Ñ‡∏£‡∏á‡∏™‡∏£‡πâ‡∏≤‡∏á DB (DBML)** ‚Äî ‡∏î‡∏π‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î‡∏ï‡∏≤‡∏£‡∏≤‡∏á‡πÅ‡∏•‡∏∞‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏±‡∏°‡∏û‡∏±‡∏ô‡∏ò‡πå‡πÉ‡∏ô [schema.dbml](schema.dbml)

---
