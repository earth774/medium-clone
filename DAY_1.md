# üìÖ ‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà 1 ‚Äî Foundation (‡∏£‡∏≤‡∏Å‡∏ê‡∏≤‡∏ô)

‡πÄ‡∏õ‡πâ‡∏≤‡∏´‡∏°‡∏≤‡∏¢‡∏ß‡∏±‡∏ô‡∏ô‡∏µ‡πâ: ‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÇ‡∏Ñ‡∏£‡∏á‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÇ‡∏õ‡∏£‡πÄ‡∏à‡∏Å‡∏ï‡πå, ‡∏£‡∏∞‡∏ö‡∏ö Auth, ‡πÅ‡∏•‡∏∞ Feed ‡πÅ‡∏™‡∏î‡∏á‡∏ö‡∏ó‡∏Ñ‡∏ß‡∏≤‡∏°‡πÑ‡∏î‡πâ

> üìñ [‡∏Å‡∏•‡∏±‡∏ö‡πÑ‡∏õ‡∏´‡∏ô‡πâ‡∏≤‡∏´‡∏•‡∏±‡∏Å](LEARNING_GUIDE.md)

---

## Step 1.1 ‚Äî Setup ‡πÇ‡∏õ‡∏£‡πÄ‡∏à‡∏Å‡∏ï‡πå

### ‡∏ó‡∏≥‡∏≠‡∏∞‡πÑ‡∏£
- ‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÇ‡∏õ‡∏£‡πÄ‡∏à‡∏Å‡∏ï‡πå Next.js 14 ‡∏î‡πâ‡∏ß‡∏¢ App Router
- ‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á Prisma ‡πÅ‡∏•‡∏∞‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠ PostgreSQL
- ‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á Tailwind CSS
- ‡∏™‡∏£‡πâ‡∏≤‡∏á Layout ‡∏û‡∏∑‡πâ‡∏ô‡∏ê‡∏≤‡∏ô (Header, Navigation)

### ‡∏≠‡∏ò‡∏¥‡∏ö‡∏≤‡∏¢
- **Next.js 14 App Router** ‚Äî ‡πÇ‡∏Ñ‡∏£‡∏á‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÉ‡∏´‡∏°‡πà‡πÉ‡∏ä‡πâ‡πÇ‡∏ü‡∏•‡πÄ‡∏î‡∏≠‡∏£‡πå `app/` ‡πÅ‡∏ó‡∏ô `pages/` ‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö Server Components, Layouts, ‡πÅ‡∏•‡∏∞ API Routes
- **Prisma** ‚Äî ORM ‡∏ó‡∏µ‡πà‡∏ä‡πà‡∏ß‡∏¢‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô query ‡πÅ‡∏ö‡∏ö type-safe ‡πÅ‡∏•‡∏∞‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£ migration
- **PostgreSQL** ‚Äî ‡∏ê‡∏≤‡∏ô‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á setup server ‡∏£‡∏±‡∏ô‡πÑ‡∏î‡πâ‡∏ó‡∏±‡∏ô‡∏ó‡∏µ ‡πÄ‡∏´‡∏°‡∏≤‡∏∞‡∏Å‡∏±‡∏ö development
- **Layout** ‚Äî ‡πÉ‡∏ä‡πâ `app/layout.tsx` ‡πÄ‡∏õ‡πá‡∏ô root layout ‡πÅ‡∏™‡∏î‡∏á Header/Nav ‡∏ã‡πâ‡∏≥‡∏ó‡∏∏‡∏Å‡∏´‡∏ô‡πâ‡∏≤

### Backend
1. `npx create-next-app@latest` ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å App Router, Tailwind, TypeScript
2. `npm install prisma @prisma/client`
3. `npx prisma init`
4. ‡πÅ‡∏Å‡πâ `DATABASE_URL` ‡πÉ‡∏ô `.env` ‡πÄ‡∏õ‡πá‡∏ô `postgresql://localhost:5432/medium` (PostgreSQL ‚Äî ‡πÑ‡∏°‡πà‡∏ï‡πâ‡∏≠‡∏á setup ‡∏≠‡∏∞‡πÑ‡∏£‡πÄ‡∏û‡∏¥‡πà‡∏°)

### Frontend
1. ‡∏™‡∏£‡πâ‡∏≤‡∏á `app/layout.tsx` ‚Äî ‡πÉ‡∏™‡πà `<html>`, `<body>`, font (‡πÄ‡∏ä‡πà‡∏ô Inter)
2. ‡∏™‡∏£‡πâ‡∏≤‡∏á `components/Header.tsx` ‚Äî logo, ‡∏•‡∏¥‡∏á‡∏Å‡πå‡πÑ‡∏õ `/`, `/login`, `/register`
3. ‡∏™‡∏£‡πâ‡∏≤‡∏á `components/Nav.tsx` ‚Äî ‡πÄ‡∏°‡∏ô‡∏π‡∏ô‡∏≥‡∏ó‡∏≤‡∏á (‡∏ñ‡πâ‡∏≤‡πÅ‡∏¢‡∏Å‡∏à‡∏≤‡∏Å Header)
4. ‡πÉ‡∏ä‡πâ Tailwind ‡∏à‡∏±‡∏î layout ‡∏û‡∏∑‡πâ‡∏ô‡∏ê‡∏≤‡∏ô ‡πÄ‡∏ä‡πà‡∏ô `max-w-4xl mx-auto px-4`

### Code (Theme: ‡∏Ç‡∏≤‡∏ß‡∏î‡∏≥ minimal)

**`app/layout.tsx`** ‚Äî ‡πÉ‡∏™‡πà `suppressHydrationWarning` ‡∏ó‡∏µ‡πà html/body ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏•‡∏î hydration warning ‡∏à‡∏≤‡∏Å browser extensions
```tsx
import type { Metadata } from "next";
import { Inter } from "next/font/google";
import "./globals.css";
import Header from "./components/Header";

const inter = Inter({
  variable: "--font-geist-sans",
  subsets: ["latin"],
});

export const metadata: Metadata = {
  title: "Create Next App",
  description: "Generated by create next app",
};

export default function RootLayout({
  children,
}: Readonly<{
  children: React.ReactNode;
}>) {
  return (
    <html lang="th" className="bg-white text-black" suppressHydrationWarning>
      <body className={`${inter.className} min-h-screen antialiased`} suppressHydrationWarning>
        <Header />
        <main className="max-w-2xl mx-auto px-4 py-8">{children}</main>
      </body>
    </html>
  )
}
```

**`components/Header.tsx`** (‡πÄ‡∏°‡∏∑‡πà‡∏≠ login ‡πÅ‡∏™‡∏î‡∏á Profile, ‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤, ‡∏ä‡∏∑‡πà‡∏≠ user, Logout)

‚ö†Ô∏è **Hydration fix:** ‡πÉ‡∏ä‡πâ `mounted` state ‚Äî ‡πÅ‡∏™‡∏î‡∏á Login/Register ‡∏Å‡πà‡∏≠‡∏ô mount ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÉ‡∏´‡πâ server/client render ‡πÄ‡∏´‡∏°‡∏∑‡∏≠‡∏ô‡∏Å‡∏±‡∏ô ‡πÅ‡∏•‡πâ‡∏ß‡∏Ñ‡πà‡∏≠‡∏¢‡∏≠‡πà‡∏≤‡∏ô localStorage
```tsx
'use client'

import Link from 'next/link'
import { useRouter } from 'next/navigation'
import { useEffect, useState } from 'react'

export default function Header() {
  return (
    <header className="border-b border-gray-200 bg-white">
      <nav className="max-w-2xl mx-auto px-4 py-4 flex items-center justify-between">
        <Link href="/" className="text-xl font-semibold text-black hover:text-gray-600">
          Medium
        </Link>
        <div className="flex gap-4 items-center" suppressHydrationWarning>
            <>
              <Link href="/login" className="text-gray-600 hover:text-black">Login</Link>
              <Link href="/register" className="text-gray-600 hover:text-black">Register</Link>
            </>
        </div>
      </nav>
    </header>
  )
}
```

---

## Step 1.2 ‚Äî Database schema + Status + DBML

### ‡∏ó‡∏≥‡∏≠‡∏∞‡πÑ‡∏£
- ‡∏≠‡∏≠‡∏Å‡πÅ‡∏ö‡∏ö schema ‡πÉ‡∏ô `prisma/schema.prisma` ‡πÉ‡∏´‡πâ‡∏ï‡∏£‡∏á‡∏Å‡∏±‡∏ö‡πÅ‡∏ö‡∏ö‡∏à‡∏≥‡∏•‡∏≠‡∏á‡πÉ‡∏ô `schema.dbml`
- ‡∏™‡∏£‡πâ‡∏≤‡∏á tables/models: `status`, `user`, `article`, `article_like` (‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö Like ‡πÉ‡∏ô DAY_2)
- ‡∏£‡∏±‡∏ô migration ‡πÅ‡∏•‡∏∞ seed ‡∏ï‡∏≤‡∏£‡∏≤‡∏á `status`
- ‡∏™‡∏£‡πâ‡∏≤‡∏á Prisma Client singleton
- ‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô `schema.dbml` ‡πÄ‡∏õ‡πá‡∏ô‡πÄ‡∏≠‡∏Å‡∏™‡∏≤‡∏£‡πÇ‡∏Ñ‡∏£‡∏á‡∏™‡∏£‡πâ‡∏≤‡∏á DB ‡πÅ‡∏ö‡∏ö DBML (‡πÑ‡∏ü‡∏•‡πå‡∏´‡∏•‡∏±‡∏Å‡∏≠‡πâ‡∏≤‡∏á‡∏≠‡∏¥‡∏á‡πÇ‡∏Ñ‡∏£‡∏á‡∏™‡∏£‡πâ‡∏≤‡∏á)

### ‡∏≠‡∏ò‡∏¥‡∏ö‡∏≤‡∏¢
- **Status (`status`)** ‚Äî 1=Active, 2=Inactive, 3=Deleted (‡πÉ‡∏ä‡πâ soft delete, ‡πÄ‡∏Å‡πá‡∏ö‡πÉ‡∏ô table `status`)
- **User (`user`)** ‚Äî ‡πÄ‡∏Å‡πá‡∏ö id, email, password, name, `status_id`, `created_at`, `updated_at`
- **Article (`article`)** ‚Äî ‡πÄ‡∏Å‡πá‡∏ö id, title, content, `user_id`, `status_id`, `created_at`, `updated_at`
- **ArticleLike (`article_like`)** ‚Äî ‡πÄ‡∏Å‡πá‡∏ö‡∏Å‡∏≤‡∏£‡∏Å‡∏î like ‡∏Ç‡∏≠‡∏á user ‡∏ï‡πà‡∏≠‡∏ö‡∏ó‡∏Ñ‡∏ß‡∏≤‡∏°, ‡πÉ‡∏ä‡πâ‡∏Ñ‡∏π‡πà key (`user_id`, `article_id`) ‡πÉ‡∏´‡πâ like ‡πÑ‡∏î‡πâ‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡πÄ‡∏î‡∏µ‡∏¢‡∏ß
- **Relation** ‚Äî ‡∏ó‡∏∏‡∏Å table ‡∏ó‡∏µ‡πà‡∏°‡∏µ `status_id` ‡∏à‡∏∞‡∏ä‡∏µ‡πâ‡πÑ‡∏õ‡∏ó‡∏µ‡πà `status.id`
- **schema.dbml** ‚Äî ‡πÑ‡∏ü‡∏•‡πå DBML ‡πÉ‡∏ä‡πâ‡∏î‡∏π‡πÇ‡∏Ñ‡∏£‡∏á‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏ï‡∏≤‡∏£‡∏≤‡∏á‡πÅ‡∏•‡∏∞‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏±‡∏°‡∏û‡∏±‡∏ô‡∏ò‡πå (source of truth ‡∏Ç‡∏≠‡∏á‡πÇ‡∏Ñ‡∏£‡∏á‡∏™‡∏£‡πâ‡∏≤‡∏á DB)

### Backend
1. ‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô schema ‡πÉ‡∏ô `prisma/schema.prisma` ‡∏ï‡∏≤‡∏°‡πÅ‡∏ö‡∏ö `schema.dbml`
2. ‡∏™‡∏£‡πâ‡∏≤‡∏á `.env` ‡∏°‡∏µ `DATABASE_URL="file:./dev.db"`
3. ‡∏™‡∏£‡πâ‡∏≤‡∏á `lib/prisma.ts` ‚Äî export PrismaClient singleton
4. ‡∏™‡∏£‡πâ‡∏≤‡∏á `prisma/seed.ts` ‚Äî ‡πÉ‡∏™‡πà‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• status (Active, Inactive, Deleted)
5. ‡πÉ‡∏ä‡πâ `schema.dbml` ‡πÄ‡∏õ‡πá‡∏ô‡πÇ‡∏Ñ‡∏£‡∏á‡∏™‡∏£‡πâ‡∏≤‡∏á DB ‡πÅ‡∏ö‡∏ö DBML ‡∏î‡∏π‡πÑ‡∏î‡πâ‡∏ó‡∏µ‡πà [schema.dbml](schema.dbml)

### ‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏£‡∏±‡∏ô (Run)

‡∏£‡∏±‡∏ô‡∏ï‡∏≤‡∏°‡∏•‡∏≥‡∏î‡∏±‡∏ö:

| ‡∏•‡∏≥‡∏î‡∏±‡∏ö | ‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á | ‡∏ó‡∏≥‡∏≠‡∏∞‡πÑ‡∏£ |
|-------|--------|--------|
| 1 | `npx prisma generate` | ‡∏™‡∏£‡πâ‡∏≤‡∏á Prisma Client ‡∏à‡∏≤‡∏Å schema (‡∏ï‡πâ‡∏≠‡∏á‡∏£‡∏±‡∏ô‡∏ó‡∏∏‡∏Å‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡∏ó‡∏µ‡πà‡πÅ‡∏Å‡πâ schema) |
| 2 | `npx prisma migrate dev --name init` | ‡∏™‡∏£‡πâ‡∏≤‡∏á migration + ‡∏ï‡∏≤‡∏£‡∏≤‡∏á‡πÉ‡∏ô DB (‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡πÅ‡∏£‡∏Å‡πÉ‡∏ä‡πâ `--name init`) |
| 3 | `npx prisma db seed` | ‡∏£‡∏±‡∏ô seed ‡πÉ‡∏™‡πà‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ï‡∏≤‡∏£‡∏≤‡∏á `status` (1 Active, 2 Inactive, 3 Deleted) |

**‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏´‡∏ï‡∏∏**
- ‡∏Å‡πà‡∏≠‡∏ô‡∏£‡∏±‡∏ô `db seed` ‡∏ï‡πâ‡∏≠‡∏á‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤‡πÉ‡∏ô `package.json`: `"prisma": { "seed": "npx tsx prisma/seed.ts" }` ‡πÅ‡∏•‡∏∞‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á tsx (`npm i -D tsx`) ‚Äî ‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥‡πÉ‡∏ä‡πâ tsx ‡πÄ‡∏û‡∏£‡∏≤‡∏∞‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö ESM ‡πÅ‡∏•‡∏∞ custom output ‡∏Ç‡∏≠‡∏á Prisma ‡πÑ‡∏î‡πâ‡∏î‡∏µ
- ‡∏ñ‡πâ‡∏≤ schema ‡∏Å‡∏≥‡∏´‡∏ô‡∏î `output` ‡πÄ‡∏õ‡πá‡∏ô path ‡∏≠‡∏∑‡πà‡∏ô (‡πÄ‡∏ä‡πà‡∏ô `../app/generated/prisma`) ‡πÉ‡∏ô `prisma/seed.ts` ‡∏ï‡πâ‡∏≠‡∏á import ‡∏à‡∏≤‡∏Å path ‡∏ô‡∏±‡πâ‡∏ô ‡πÑ‡∏°‡πà‡πÉ‡∏ä‡πà `@prisma/client` (‡πÄ‡∏ä‡πà‡∏ô `import { PrismaClient } from '../app/generated/prisma/client'`)
- ‡πÅ‡∏Å‡πâ `schema.prisma` ‡πÅ‡∏•‡πâ‡∏ß‡∏ï‡πâ‡∏≠‡∏á‡∏£‡∏±‡∏ô `npx prisma generate` ‡πÉ‡∏´‡∏°‡πà
- ‡∏°‡∏µ migration ‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÉ‡∏ô‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡∏ñ‡∏±‡∏î‡πÑ‡∏õ: ‡πÉ‡∏ä‡πâ `npx prisma migrate dev --name <‡∏ä‡∏∑‡πà‡∏≠‡∏Å‡∏≤‡∏£‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡πÅ‡∏õ‡∏•‡∏á>`

### Frontend
- Step ‡∏ô‡∏µ‡πâ‡πÄ‡∏õ‡πá‡∏ô backend ‡πÄ‡∏õ‡πá‡∏ô‡∏´‡∏•‡∏±‡∏Å ‚Äî ‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏ó‡∏≥ UI ‡πÄ‡∏û‡∏¥‡πà‡∏°

### Code

**`schema.dbml`**
```dbml
// ============================================
// Medium Clone ‚Äî Database Schema (DBML)
// ============================================

// ‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞ (Active / Inactive / Deleted)
Table status {
  id integer [primary key, not null, note: "‡∏£‡∏´‡∏±‡∏™‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞ (PK) ‚Äî 1=Active, 2=Inactive, 3=Deleted"]
  name varchar [not null, note: "‡∏ä‡∏∑‡πà‡∏≠‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞"]
}

// ‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ
Table user {
  id varchar [primary key, not null, note: "‡∏£‡∏´‡∏±‡∏™‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ (PK, CUID)"]
  email varchar [not null, unique, note: "‡∏≠‡∏µ‡πÄ‡∏°‡∏• (unique)"]
  password varchar [not null, note: "‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô (hash)"]
  name varchar [not null, note: "‡∏ä‡∏∑‡πà‡∏≠‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ"]
  status_id integer [not null, default: 1, ref: > status.id, note: "‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞ (FK -> status.id)"]
  created_at timestamp [not null, note: "‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•"]
  updated_at timestamp [not null, note: "‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡∏•‡πà‡∏≤‡∏™‡∏∏‡∏î"]

  Indexes {
    email [unique]
    status_id
  }
}

// ‡∏ö‡∏ó‡∏Ñ‡∏ß‡∏≤‡∏°
Table article {
  id varchar [primary key, not null, note: "‡∏£‡∏´‡∏±‡∏™‡∏ö‡∏ó‡∏Ñ‡∏ß‡∏≤‡∏° (PK, CUID)"]
  title varchar [not null, note: "‡∏´‡∏±‡∏ß‡∏Ç‡πâ‡∏≠‡∏ö‡∏ó‡∏Ñ‡∏ß‡∏≤‡∏°"]
  content text [not null, note: "‡πÄ‡∏ô‡∏∑‡πâ‡∏≠‡∏´‡∏≤‡∏ö‡∏ó‡∏Ñ‡∏ß‡∏≤‡∏° (HTML ‡∏à‡∏≤‡∏Å Rich Text Editor)"]
  user_id varchar [not null, ref: > user.id, note: "‡∏£‡∏´‡∏±‡∏™‡∏ú‡∏π‡πâ‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô (FK -> user.id, CASCADE on delete)"]
  status_id integer [not null, default: 1, ref: > status.id, note: "‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞ (FK -> status.id)"]
  created_at timestamp [not null, note: "‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•"]
  updated_at timestamp [not null, note: "‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡∏•‡πà‡∏≤‡∏™‡∏∏‡∏î"]

  Indexes {
    user_id
    status_id
    (user_id, created_at) [note: "‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏î‡∏∂‡∏á‡∏ö‡∏ó‡∏Ñ‡∏ß‡∏≤‡∏°‡∏Ç‡∏≠‡∏á user ‡πÄ‡∏£‡∏µ‡∏¢‡∏á‡∏ï‡∏≤‡∏°‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà"]
  }
}

// =========================
// ‡∏´‡∏°‡∏ß‡∏î‡∏´‡∏°‡∏π‡πà (Category)
// =========================
Table category {
  id integer [primary key, not null, note: "‡∏£‡∏´‡∏±‡∏™‡∏´‡∏°‡∏ß‡∏î‡∏´‡∏°‡∏π‡πà (PK, AUTO_INCREMENT)"]
  name varchar [not null, unique, note: "‡∏ä‡∏∑‡πà‡∏≠‡∏´‡∏°‡∏ß‡∏î‡∏´‡∏°‡∏π‡πà (unique)"]
  status_id integer [not null, default: 1, ref: > status.id, note: "‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞ (FK -> status.id)"]
  created_at timestamp [not null, note: "‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•"]
  updated_at timestamp [not null, note: "‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡∏•‡πà‡∏≤‡∏™‡∏∏‡∏î"]

  Indexes {
    name [unique]
    status_id
  }
}

// ‡∏ö‡∏ó‡∏Ñ‡∏ß‡∏≤‡∏°‡∏´‡∏ô‡∏∂‡πà‡∏á‡∏≠‡∏¢‡∏π‡πà‡πÑ‡∏î‡πâ‡∏´‡∏•‡∏≤‡∏¢‡∏´‡∏°‡∏ß‡∏î, ‡∏´‡∏°‡∏ß‡∏î‡∏´‡∏ô‡∏∂‡πà‡∏á‡∏°‡∏µ‡∏´‡∏•‡∏≤‡∏¢‡∏ö‡∏ó‡∏Ñ‡∏ß‡∏≤‡∏°
Table article_category {
  id integer [primary key, not null, note: "‡∏£‡∏´‡∏±‡∏™ (PK, AUTO_INCREMENT)"]
  article_id varchar [not null, ref: > article.id, note: "‡∏£‡∏´‡∏±‡∏™‡∏ö‡∏ó‡∏Ñ‡∏ß‡∏≤‡∏° (FK -> article.id, CASCADE on delete)"]
  category_id integer [not null, ref: > category.id, note: "‡∏£‡∏´‡∏±‡∏™‡∏´‡∏°‡∏ß‡∏î‡∏´‡∏°‡∏π‡πà (FK -> category.id)"]
  created_at timestamp [not null, note: "‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏±‡∏°‡∏û‡∏±‡∏ô‡∏ò‡πå"]
  updated_at timestamp [not null, note: "‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡∏•‡πà‡∏≤‡∏™‡∏∏‡∏î"]

  Indexes {
    (article_id, category_id) [unique, note: "‡∏´‡∏ô‡∏∂‡πà‡∏á‡∏ö‡∏ó‡∏Ñ‡∏ß‡∏≤‡∏°-‡∏´‡∏ô‡∏∂‡πà‡∏á‡∏´‡∏°‡∏ß‡∏î‡∏´‡∏°‡∏π‡πà ‡∏°‡∏µ‡πÑ‡∏î‡πâ‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡πÄ‡∏î‡∏µ‡∏¢‡∏ß"]
    article_id
    category_id
  }
}


// Like ‡∏ö‡∏ó‡∏Ñ‡∏ß‡∏≤‡∏° (‡∏´‡∏ô‡∏∂‡πà‡∏á user like ‡∏´‡∏ô‡∏∂‡πà‡∏á‡∏ö‡∏ó‡∏Ñ‡∏ß‡∏≤‡∏°‡πÑ‡∏î‡πâ‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡πÄ‡∏î‡∏µ‡∏¢‡∏ß)
Table article_like {
  id varchar [primary key, not null, note: "‡∏£‡∏´‡∏±‡∏™ (PK, CUID)"]
  user_id varchar [not null, ref: > user.id, note: "‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ (FK -> user.id)"]
  article_id varchar [not null, ref: > article.id, note: "‡∏ö‡∏ó‡∏Ñ‡∏ß‡∏≤‡∏° (FK -> article.id)"]
  status_id integer [not null, default: 1, ref: > status.id, note: "‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞ (FK -> status.id)"]
  created_at timestamp [not null, note: "‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà like"]
  updated_at timestamp [not null, note: "‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡∏•‡πà‡∏≤‡∏™‡∏∏‡∏î"]

  Indexes {
    (user_id, article_id) [unique, note: "‡∏´‡∏ô‡∏∂‡πà‡∏á user like ‡∏´‡∏ô‡∏∂‡πà‡∏á‡∏ö‡∏ó‡∏Ñ‡∏ß‡∏≤‡∏°‡πÑ‡∏î‡πâ‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡πÄ‡∏î‡∏µ‡∏¢‡∏ß"]
    article_id
  }
}

```

**`prisma/schema.prisma` (‡πÄ‡∏â‡∏û‡∏≤‡∏∞‡∏™‡πà‡∏ß‡∏ô model)**  
```prisma
generator client {
  provider = "prisma-client"
  output   = "../app/generated/prisma"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model Status {
  id                Int               @id
  name              String
  users             User[]
  articles          Article[]
  likes             ArticleLike[]
  categories        Category[]
  articleCategories ArticleCategory[]

  @@map("status")
}

model User {
  id        String        @id @default(cuid())
  email     String        @unique
  password  String
  name      String
  statusId  Int           @default(1) @map("status_id")
  status    Status        @relation(fields: [statusId], references: [id])
  createdAt DateTime      @default(now()) @map("created_at")
  updatedAt DateTime      @default(now()) @updatedAt @map("updated_at")
  articles  Article[]
  likes     ArticleLike[]

  @@map("user")
}

model Category {
  id        Int           @id
  name      String        @unique
  statusId  Int           @default(1) @map("status_id")
  status    Status        @relation(fields: [statusId], references: [id])
  createdAt DateTime      @default(now()) @map("created_at")
  updatedAt DateTime      @default(now()) @updatedAt @map("updated_at")
  articles  ArticleCategory[]

  @@map("category")
}

model Article {
  id        String        @id @default(cuid())
  title     String
  content   String
  authorId  String        @map("user_id")
  author    User          @relation(fields: [authorId], references: [id])
  statusId  Int           @default(1) @map("status_id")
  status    Status        @relation(fields: [statusId], references: [id])
  createdAt DateTime      @default(now()) @map("created_at")
  updatedAt DateTime      @default(now()) @updatedAt @map("updated_at")
  likes     ArticleLike[]
  categories ArticleCategory[]

  @@map("article")
}

model ArticleCategory {
  id         Int      @id
  articleId  String   @map("article_id")
  article    Article  @relation(fields: [articleId], references: [id])
  categoryId Int      @map("category_id")
  category   Category @relation(fields: [categoryId], references: [id])
  statusId   Int      @default(1) @map("status_id")
  status     Status   @relation(fields: [statusId], references: [id])
  createdAt  DateTime @default(now()) @map("created_at")
  updatedAt  DateTime @default(now()) @updatedAt @map("updated_at")

  @@map("article_category")
}

model ArticleLike {
  id        String   @id @default(cuid())
  userId    String   @map("user_id")
  user      User     @relation(fields: [userId], references: [id])
  articleId String   @map("article_id")
  article   Article  @relation(fields: [articleId], references: [id])
  statusId  Int      @default(1) @map("status_id")
  status    Status   @relation(fields: [statusId], references: [id])
  createdAt DateTime @default(now()) @map("created_at")
  updatedAt DateTime @default(now()) @updatedAt @map("updated_at")

  @@unique([userId, articleId])
  @@map("article_like")
}
```

**`prisma/seed.ts`**
```ts
import { prisma } from '../lib/prisma'

async function main() {
  await prisma.status.upsert({
    where: { id: 1 },
    update: {},
    create: { id: 1, name: 'Active' },
  })

  await prisma.status.upsert({
    where: { id: 2 },
    update: {},
    create: { id: 2, name: 'Inactive' },
  })

  await prisma.status.upsert({
    where: { id: 3 },
    update: {},
    create: { id: 3, name: 'Deleted' },
  })

  // Seed categories from design (Recommended topics)
  const categories = [
    { id: 1, name: 'Programming' },
    { id: 2, name: 'Data Science' },
    { id: 3, name: 'UX' },
    { id: 4, name: 'Startup' },
    { id: 5, name: 'Writing' },
    { id: 6, name: 'Psychology' },
  ]
  for (const { id, name } of categories) {
    await prisma.category.upsert({
      where: { id },
      update: { name },
      create: { id, name, statusId: 1 },
    })
  }

  // Seed demo user and articles for Feed (Step 1.3)
  const demoUser = await prisma.user.upsert({
    where: { email: 'demo@medium.local' },
    update: {},
    create: {
      email: 'demo@medium.local',
      password: 'Pass@word123',
      name: 'Demo Author',
      statusId: 1,
    },
  })

  // Reset demo articles on re-seed
  await prisma.article.deleteMany({ where: { authorId: demoUser.id } })

  const articles = [
    {
      title: 'The Future of Human-Computer Interaction in 2025',
      content:
        '<p>As AI systems become more capable, the relationship between humans and computers is evolving in unexpected ways. This article explores the trends shaping our digital future.</p><p>From voice interfaces to ambient computing, we are moving toward a world where technology fades into the background.</p>',
    },
    {
      title: 'The Last Programmer ‚Äî A Short Story About AI',
      content:
        '<p>Artificial intelligence is no longer a distant dream. It is here, and it is changing how we work, create, and connect.</p>',
    },
    {
      title: 'Building a Medium Clone with Next.js and Prisma',
      content:
        '<p>Learn how to build a blog platform similar to Medium using Next.js 16, Prisma, and Tailwind CSS. We will cover authentication, article CRUD, and a responsive feed layout.</p>',
    },
  ]

  for (const { title, content } of articles) {
    await prisma.article.create({
      data: { title, content, authorId: demoUser.id, statusId: 1 },
    })
  }
}

main()
  .catch((e) => {
    console.error(e)
    process.exit(1)
  })
  .finally(async () => {
    await prisma.$disconnect()
  })


```

**`lib/prisma.ts`**

‡πÉ‡∏ä‡πâ‡πÅ‡∏ö‡∏ö **singleton** ‚Äî ‡∏™‡∏£‡πâ‡∏≤‡∏á Prisma Client ‡πÅ‡∏Ñ‡πà instance ‡πÄ‡∏î‡∏µ‡∏¢‡∏ß ‡πÅ‡∏•‡πâ‡∏ß reuse ‡∏ï‡∏•‡∏≠‡∏î‡∏ó‡∏±‡πâ‡∏á app  

- **‡πÄ‡∏´‡∏ï‡∏∏‡∏ú‡∏•:** ‡πÉ‡∏ô‡πÇ‡∏´‡∏°‡∏î development ‡πÄ‡∏ß‡∏•‡∏≤ hot reload (‡πÄ‡∏ä‡πà‡∏ô Next.js) ‡∏ñ‡πâ‡∏≤ `new PrismaClient()` ‡∏ñ‡∏π‡∏Å‡πÄ‡∏£‡∏µ‡∏¢‡∏Å‡∏´‡∏•‡∏≤‡∏¢‡∏Ñ‡∏£‡∏±‡πâ‡∏á ‡∏à‡∏∞‡∏°‡∏µ connection ‡πÑ‡∏õ‡∏ó‡∏µ‡πà DB ‡πÄ‡∏¢‡∏≠‡∏∞‡∏à‡∏ô‡πÄ‡∏Å‡∏¥‡∏ô limit ‡πÑ‡∏î‡πâ  
- **‡∏ß‡∏¥‡∏ò‡∏µ‡∏ó‡∏≥:** ‡πÄ‡∏Å‡πá‡∏ö instance ‡πÑ‡∏ß‡πâ‡πÉ‡∏ô `globalThis` (‡πÉ‡∏ô Node/Edge ‡πÑ‡∏°‡πà‡∏´‡∏≤‡∏¢‡πÄ‡∏°‡∏∑‡πà‡∏≠‡πÑ‡∏ü‡∏•‡πå‡∏ñ‡∏π‡∏Å‡πÇ‡∏´‡∏•‡∏î‡πÉ‡∏´‡∏°‡πà) ‡∏ñ‡πâ‡∏≤‡∏°‡∏µ‡∏≠‡∏¢‡∏π‡πà‡πÅ‡∏•‡πâ‡∏ß‡πÉ‡∏ä‡πâ‡∏ï‡∏±‡∏ß‡πÄ‡∏î‡∏¥‡∏° ‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏Ñ‡πà‡∏≠‡∏¢‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÉ‡∏´‡∏°‡πà  
- **production:** ‡∏°‡∏±‡∏Å‡πÇ‡∏´‡∏•‡∏î‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡πÄ‡∏î‡∏µ‡∏¢‡∏ß ‡∏à‡∏∂‡∏á‡πÑ‡∏°‡πà‡∏à‡∏≥‡πÄ‡∏õ‡πá‡∏ô‡∏ï‡πâ‡∏≠‡∏á‡πÄ‡∏Å‡πá‡∏ö‡πÉ‡∏ô global ‡∏Å‡πá‡πÑ‡∏î‡πâ ‡πÅ‡∏ï‡πà‡πÉ‡∏ä‡πâ pattern ‡πÄ‡∏î‡∏µ‡∏¢‡∏ß‡∏Å‡∏±‡∏ô‡πÑ‡∏î‡πâ‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏õ‡∏±‡∏ç‡∏´‡∏≤  

```ts
import { PrismaClient } from '@prisma/client'

const globalForPrisma = globalThis as unknown as { prisma: PrismaClient }
export const prisma = globalForPrisma.prisma || new PrismaClient()
if (process.env.NODE_ENV !== 'production') globalForPrisma.prisma = prisma
```

**‡πÇ‡∏Ñ‡∏£‡∏á‡∏™‡∏£‡πâ‡∏≤‡∏á DB (DBML)** ‚Äî ‡∏î‡∏π‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î‡∏ï‡∏≤‡∏£‡∏≤‡∏á‡πÅ‡∏•‡∏∞‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏±‡∏°‡∏û‡∏±‡∏ô‡∏ò‡πå‡πÉ‡∏ô [schema.dbml](schema.dbml)

---

## Step 1.3 ‚Äî Articles API + Feed

### ‡∏ó‡∏≥‡∏≠‡∏∞‡πÑ‡∏£
- ‡∏™‡∏£‡πâ‡∏≤‡∏á API `GET /api/articles` ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏î‡∏∂‡∏á‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏ö‡∏ó‡∏Ñ‡∏ß‡∏≤‡∏°‡πÅ‡∏ö‡∏ö pagination
- ‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏´‡∏ô‡πâ‡∏≤ Feed (Home) ‡πÅ‡∏™‡∏î‡∏á‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏ö‡∏ó‡∏Ñ‡∏ß‡∏≤‡∏°‡∏à‡∏≤‡∏Å DB
- ‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏´‡∏ô‡πâ‡∏≤‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î‡∏ö‡∏ó‡∏Ñ‡∏ß‡∏≤‡∏° `/articles/[id]`
- ‡∏™‡∏£‡πâ‡∏≤‡∏á component `ArticleCard` ‡πÅ‡∏•‡∏∞ `Sidebar`
- ‡∏™‡∏£‡πâ‡∏≤‡∏á `loading.tsx` ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö skeleton loading
- ‡πÄ‡∏û‡∏¥‡πà‡∏° seed ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• demo user ‡πÅ‡∏•‡∏∞‡∏ö‡∏ó‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á

### ‡∏≠‡∏ò‡∏¥‡∏ö‡∏≤‡∏¢
- **GET /api/articles** ‚Äî ‡∏Ñ‡∏∑‡∏ô‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏ö‡∏ó‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ó‡∏µ‡πà status = Active ‡πÄ‡∏£‡∏µ‡∏¢‡∏á‡∏ï‡∏≤‡∏°‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡πÉ‡∏´‡∏°‡πà‡∏™‡∏∏‡∏î ‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö `page` ‡πÅ‡∏•‡∏∞ `limit` query params
- **Feed** ‚Äî ‡∏´‡∏ô‡πâ‡∏≤‡πÅ‡∏£‡∏Å‡∏î‡∏∂‡∏á‡∏ö‡∏ó‡∏Ñ‡∏ß‡∏≤‡∏°‡∏à‡∏≤‡∏Å API `GET /api/articles` ‡∏î‡πâ‡∏ß‡∏¢ axios (Client Component) ‡πÅ‡∏™‡∏î‡∏á excerpt, ‡∏ä‡∏∑‡πà‡∏≠‡∏ú‡∏π‡πâ‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô, read time, like count
- **Article detail** ‚Äî ‡∏´‡∏ô‡πâ‡∏≤‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î‡πÅ‡∏™‡∏î‡∏á title, content (HTML), ‡∏ú‡∏π‡πâ‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô, ‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà
- **excerptFromContent** ‚Äî ‡∏ï‡∏±‡∏î HTML tags ‡∏≠‡∏≠‡∏Å‡πÅ‡∏•‡πâ‡∏ß‡πÄ‡∏≠‡∏≤ plain text ‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏à‡∏≥‡∏Å‡∏±‡∏î‡∏ï‡∏±‡∏ß‡∏≠‡∏±‡∏Å‡∏©‡∏£
- **estimateReadTime** ‚Äî ‡∏õ‡∏£‡∏∞‡∏°‡∏≤‡∏ì‡πÄ‡∏ß‡∏•‡∏≤‡∏≠‡πà‡∏≤‡∏ô‡∏à‡∏≤‡∏Å‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏Ñ‡∏≥ (200 ‡∏Ñ‡∏≥/‡∏ô‡∏≤‡∏ó‡∏µ)

### Path ‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏´‡∏ï‡∏∏
‡πÇ‡∏õ‡∏£‡πÄ‡∏à‡∏Å‡∏ï‡πå‡πÉ‡∏ä‡πâ `web/` ‡πÄ‡∏õ‡πá‡∏ô Next.js root ‡∏î‡∏±‡∏á‡∏ô‡∏±‡πâ‡∏ô:
- **‡∏à‡∏≤‡∏Å project root:** `web/app/...`, `web/prisma/...`
- **‡∏à‡∏≤‡∏Å‡πÇ‡∏ü‡∏•‡πÄ‡∏î‡∏≠‡∏£‡πå web/:** `app/...`, `prisma/...`

### ‡∏•‡∏≥‡∏î‡∏±‡∏ö‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô (‡∏ï‡∏≤‡∏° dependency)

```mermaid
flowchart TD
    subgraph phase0 [Phase 0: Foundation]
        A1[globals.css design vars]
        A2[layout.tsx fonts + metadata]
        A3[Header responsive]
    end
    subgraph phase1 [Phase 1: Backend]
        B1[API route]
        B2[Seed]
    end
    subgraph phase2 [Phase 2: Frontend]
        C1[Install deps]
        C2[ArticleCard]
        C3[Sidebar]
        C4[page.tsx Feed]
        C5[articles/id page]
        C6[loading.tsx]
    end
    subgraph phase3 [Phase 3: Commands]
        D1[npm install]
        D2[prisma db seed]
    end
    A1 --> A2 --> A3
    A3 --> B1 --> B2
    B2 --> C1 --> C2 --> C3 --> C4 --> C5 --> C6
    C6 --> D1 --> D2
```

---

### Phase 0 ‚Äî Foundation (Design System)

‡∏ó‡∏≥‡∏Å‡πà‡∏≠‡∏ô‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÉ‡∏´‡πâ Feed ‡πÅ‡∏•‡∏∞ components ‡πÉ‡∏ä‡πâ design tokens ‡πÑ‡∏î‡πâ

| ‡∏•‡∏≥‡∏î‡∏±‡∏ö | ‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô | ‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î |
|-------|---------|------------|
| 1 | globals.css | ‡πÄ‡∏û‡∏¥‡πà‡∏° CSS variables: `--color-bg`, `--color-border`, `--color-primary`, `--color-text-1/2/3`, `--color-surface`, `--color-like`, `--font-serif`, `.font-logo` |
| 2 | layout.tsx | ‡πÉ‡∏™‡πà Source Serif 4 font, metadata (title, description), main container `max-w-[1024px]` |
| 3 | Header.tsx | Mobile hamburger menu, responsive nav (desktop / mobile), `isLoggedIn` placeholder |

---

### Phase 1 ‚Äî Backend

| ‡∏•‡∏≥‡∏î‡∏±‡∏ö | ‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô | ‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î |
|-------|---------|------------|
| 1 | ‡∏™‡∏£‡πâ‡∏≤‡∏á API route | ‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÑ‡∏ü‡∏•‡πå `app/api/articles/route.ts` |
| 2 | ‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô GET handler | ‡∏£‡∏±‡∏ö `page`, `limit` ‡∏à‡∏≤‡∏Å query string (default: page=1, limit=10) |
| 3 | Query Prisma | `prisma.article.findMany` ‡πÇ‡∏î‡∏¢ `where: { statusId: 1 }`, `include: { author, _count: { likes } }`, `orderBy: { createdAt: 'desc' }` |
| 4 | ‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì pagination | ‡πÉ‡∏ä‡πâ `skip`, `take` ‡πÅ‡∏•‡∏∞ `prisma.article.count` ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö total |
| 5 | ‡∏™‡∏£‡πâ‡∏≤‡∏á helper functions | `excerptFromContent(content, 150)` ‚Äî ‡∏ï‡∏±‡∏î HTML, `estimateReadTime(content)` ‚Äî ‡∏õ‡∏£‡∏∞‡∏°‡∏≤‡∏ì‡∏ô‡∏≤‡∏ó‡∏µ |
| 6 | Error handling | ‡∏´‡πà‡∏≠ logic ‡∏î‡πâ‡∏ß‡∏¢ try/catch, return 500 + `{ error: "Failed to fetch articles" }` ‡πÄ‡∏°‡∏∑‡πà‡∏≠ error |
| 7 | Return JSON | `{ items, pagination: { page, limit, total, totalPages } }` ‚Äî ‡πÅ‡∏ï‡πà‡∏•‡∏∞ item ‡∏°‡∏µ id, title, excerpt, author, publishedAt, readTimeMinutes, likeCount |
| 8 | ‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï seed | ‡πÉ‡∏ô `prisma/seed.ts` ‡πÄ‡∏û‡∏¥‡πà‡∏° demo user ‡πÅ‡∏•‡∏∞‡∏ö‡∏ó‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á 3 ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£ (‡πÄ‡∏ô‡∏∑‡πâ‡∏≠‡∏´‡∏≤‡∏¢‡∏≤‡∏ß‡∏û‡∏≠‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö excerpt/readTime) |

---

### Phase 2 ‚Äî Frontend

| ‡∏•‡∏≥‡∏î‡∏±‡∏ö | ‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô | ‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î |
|-------|---------|------------|
| 1 | ‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á dependencies | `npm install axios lucide-react` ‚Äî axios ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡πÄ‡∏£‡∏µ‡∏¢‡∏Å API, lucide-react ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö Heart, Bookmark icons |
| 2 | ‡∏™‡∏£‡πâ‡∏≤‡∏á ArticleCard | Component ‡πÅ‡∏™‡∏î‡∏á title, excerpt, author (initials avatar), read time, like count, category chip, bookmark button |
| 3 | ‡∏™‡∏£‡πâ‡∏≤‡∏á Sidebar | Popular Articles (placeholder), Recommended topics, Footer links, sticky layout ‡∏ö‡∏ô desktop |
| 4 | ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç Home page | `app/page.tsx` ‚Äî Client Component ‡πÄ‡∏£‡∏µ‡∏¢‡∏Å `axios.get('/api/articles')` ‡πÉ‡∏ô useEffect, ‡πÅ‡∏™‡∏î‡∏á loading/error state |
| 5 | ‡∏™‡∏£‡πâ‡∏≤‡∏á article detail route | `app/articles/[id]/page.tsx` ‚Äî Server Component ‡∏î‡∏∂‡∏á‡∏ö‡∏ó‡∏Ñ‡∏ß‡∏≤‡∏°‡∏à‡∏≤‡∏Å Prisma, ‡πÅ‡∏™‡∏î‡∏á title + content |
| 6 | ‡∏™‡∏£‡πâ‡∏≤‡∏á loading.tsx | Skeleton loading ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö Feed (animate-pulse) |
| 7 | ‡∏à‡∏±‡∏î layout | Feed ‡∏ã‡πâ‡∏≤‡∏¢ + Sidebar ‡∏Ç‡∏ß‡∏≤ (flex, responsive) |

---

### Phase 3 ‚Äî ‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏£‡∏±‡∏ô

| ‡∏•‡∏≥‡∏î‡∏±‡∏ö | ‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á | ‡∏ó‡∏≥‡∏≠‡∏∞‡πÑ‡∏£ |
|-------|--------|--------|
| 1 | `cd web && npm install axios lucide-react` | ‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á dependencies |
| 2 | `npx prisma db seed` | ‡∏£‡∏±‡∏ô seed ‡πÉ‡∏´‡∏°‡πà‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÉ‡∏™‡πà demo user ‡πÅ‡∏•‡∏∞‡∏ö‡∏ó‡∏Ñ‡∏ß‡∏≤‡∏° (‡∏´‡∏•‡∏±‡∏á‡πÅ‡∏Å‡πâ seed.ts) ‚Äî ‡∏£‡∏±‡∏ô‡∏à‡∏≤‡∏Å‡πÇ‡∏ü‡∏•‡πÄ‡∏î‡∏≠‡∏£‡πå `web/` |

---

### Code

**`app/globals.css`** ‚Äî Design variables (Phase 0)
```css
@import "tailwindcss";

:root {
  --background: #ffffff;
  --foreground: #171717;
  /* Medium clone design variables */
  --color-bg: #ffffff;
  --color-border: #e6e6e6;
  --color-primary: #1a8917;
  --color-text-1: #242424;
  --color-text-2: #6b6b6b;
  --color-text-3: #b3b3b3;
  --color-surface: #f9f9f9;
  --color-like: #e91e63;
}

@theme inline {
  --color-background: var(--background);
  --color-foreground: var(--foreground);
  --color-bg: var(--color-bg);
  --color-border: var(--color-border);
  --color-primary: var(--color-primary);
  --color-text-1: var(--color-text-1);
  --color-text-2: var(--color-text-2);
  --color-text-3: var(--color-text-3);
  --color-surface: var(--color-surface);
  --color-like: var(--color-like);
  --font-sans: var(--font-geist-sans);
  --font-mono: var(--font-geist-mono);
  --font-serif: var(--font-source-serif);
}

body {
  background: var(--color-bg);
  color: var(--color-text-1);
  font-family: var(--font-sans), Arial, Helvetica, sans-serif;
}

.font-logo {
  font-family: var(--font-source-serif), Georgia, serif;
}
```

**`app/layout.tsx`** ‚Äî Fonts + metadata (Phase 0)
```tsx
import type { Metadata } from "next";
import { Inter, Source_Serif_4 } from "next/font/google";
import "./globals.css";
import Header from "./components/Header";

const inter = Inter({
  variable: "--font-geist-sans",
  subsets: ["latin"],
});

const sourceSerif = Source_Serif_4({
  variable: "--font-source-serif",
  subsets: ["latin"],
  weight: ["400", "600", "700"],
});

export const metadata: Metadata = {
  title: "Medium ‚Äì Where good ideas find you",
  description: "Medium is a place to read, write, and connect with ideas that matter.",
};

export default function RootLayout({
  children,
}: Readonly<{ children: React.ReactNode }>) {
  return (
    <html lang="th" className={`${inter.variable} ${sourceSerif.variable}`} suppressHydrationWarning>
      <body className={`${inter.className} min-h-screen antialiased bg-bg text-text-1`} suppressHydrationWarning>
        <Header />
        <main className="max-w-[1024px] mx-auto px-4 sm:px-6 lg:px-11 py-8">{children}</main>
      </body>
    </html>
  );
}
```

**`app/components/Header.tsx`** ‚Äî Responsive nav (Phase 0)
```tsx
"use client";

import Link from "next/link";
import { useState } from "react";

export default function Header() {
  const [mobileMenuOpen, setMobileMenuOpen] = useState(false);
  const isLoggedIn = false; // TODO: wire to auth

  return (
    <header className="relative h-[57px] flex items-center justify-between px-4 sm:px-6 lg:px-11 border-b border-border bg-bg">
      <Link href="/" className="font-logo text-2xl font-bold text-text-1 hover:text-primary transition-colors">
        Medium
      </Link>
      <nav className="hidden md:flex items-center gap-4">
        {isLoggedIn ? (
          <>
            <Link href="/write" className="text-text-2 hover:text-text-1 text-sm">Write</Link>
            <Link href="/profile" className="w-9 h-9 rounded-full bg-primary flex items-center justify-center text-white font-medium text-sm" aria-label="Profile">A</Link>
          </>
        ) : (
          <>
            <Link href="/login" className="text-text-2 hover:text-text-1 text-sm">Login</Link>
            <Link href="/register" className="text-text-2 hover:text-text-1 text-sm">Register</Link>
          </>
        )}
      </nav>
      <div className="flex md:hidden items-center gap-2">
        <button type="button" onClick={() => setMobileMenuOpen((o) => !o)} className="p-2 -mr-2 text-text-1" aria-label="Toggle menu" aria-expanded={mobileMenuOpen}>
          <svg className="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            {mobileMenuOpen ? <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M6 18L18 6M6 6l12 12" /> : <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M4 6h16M4 12h16M4 18h16" />}
          </svg>
        </button>
      </div>
      {mobileMenuOpen && (
        <div className="absolute top-[57px] left-0 right-0 bg-bg border-b border-border shadow-md md:hidden z-10" role="dialog" aria-label="Mobile menu">
          <nav className="flex flex-col p-4 gap-2">
            {isLoggedIn ? (
              <><Link href="/write" className="py-2 text-text-1" onClick={() => setMobileMenuOpen(false)}>Write</Link><Link href="/profile" className="py-2 text-text-1" onClick={() => setMobileMenuOpen(false)}>Profile</Link></>
            ) : (
              <><Link href="/login" className="py-2 text-text-1" onClick={() => setMobileMenuOpen(false)}>Login</Link><Link href="/register" className="py-2 text-text-1" onClick={() => setMobileMenuOpen(false)}>Register</Link></>
            )}
          </nav>
        </div>
      )}
    </header>
  );
}
```

**`app/api/articles/route.ts`** ‚Äî GET articles with pagination
```ts
import { NextRequest, NextResponse } from "next/server";
import { prisma } from "@/lib/prisma";

const DEFAULT_PAGE_SIZE = 10;
const MAX_PAGE_SIZE = 50;

function excerptFromContent(content: string, maxLength = 150): string {
  const plain = content.replace(/<[^>]+>/g, "").trim();
  if (plain.length <= maxLength) return plain;
  return plain.slice(0, maxLength).trim() + "‚Ä¶";
}

function estimateReadTime(content: string): number {
  const words = content.split(/\s+/).filter(Boolean).length;
  return Math.max(1, Math.ceil(words / 200));
}

export async function GET(request: NextRequest) {
  try {
    const { searchParams } = new URL(request.url);
    const page = Math.max(1, parseInt(searchParams.get("page") ?? "1", 10));
    const limit = Math.min(MAX_PAGE_SIZE, Math.max(1, parseInt(searchParams.get("limit") ?? String(DEFAULT_PAGE_SIZE), 10)));
    const skip = (page - 1) * limit;

    const [articles, total] = await Promise.all([
      prisma.article.findMany({
        where: { statusId: 1 },
        include: { author: { select: { id: true, name: true } }, _count: { select: { likes: true } } },
        orderBy: { createdAt: "desc" },
        skip,
        take: limit,
      }),
      prisma.article.count({ where: { statusId: 1 } }),
    ]);

    const items = articles.map((a) => ({
      id: a.id,
      title: a.title,
      excerpt: excerptFromContent(a.content),
      author: { id: a.author.id, name: a.author.name },
      publishedAt: a.createdAt,
      readTimeMinutes: estimateReadTime(a.content),
      likeCount: a._count?.likes ?? 0,
    }));

    return NextResponse.json({
      items,
      pagination: { page, limit, total, totalPages: Math.ceil(total / limit) },
    });
  } catch (error) {
    console.error("GET /api/articles error:", error);
    return NextResponse.json({ error: "Failed to fetch articles" }, { status: 500 });
  }
}
```

**`app/page.tsx`** ‚Äî Feed (Home) ‚Äî ‡πÄ‡∏£‡∏µ‡∏¢‡∏Å API ‡∏î‡πâ‡∏ß‡∏¢ axios
```tsx
"use client";

import { useEffect, useState } from "react";
import axios from "axios";
import ArticleCard from "./components/ArticleCard";
import Sidebar from "./components/Sidebar";

const PAGE_SIZE = 10;

type ArticleItem = {
  id: string;
  title: string;
  excerpt: string;
  author: { id: string; name: string };
  publishedAt: string;
  readTimeMinutes: number;
  likeCount?: number;
};

type ApiResponse = {
  items: ArticleItem[];
  pagination: { page: number; limit: number; total: number; totalPages: number };
};

export default function HomePage() {
  const [articles, setArticles] = useState<ArticleItem[]>([]);
  const [pagination, setPagination] = useState<ApiResponse["pagination"] | null>(null);
  const [loading, setLoading] = useState(true);
  const [error, setError] = useState<string | null>(null);

  useEffect(() => {
    async function fetchArticles() {
      try {
        setLoading(true);
        setError(null);
        const { data } = await axios.get<ApiResponse>("/api/articles", { params: { page: 1, limit: PAGE_SIZE } });
        setArticles(data.items);
        setPagination(data.pagination);
      } catch (err) {
        setError("Failed to load articles");
        console.error("Fetch articles error:", err);
      } finally {
        setLoading(false);
      }
    }
    fetchArticles();
  }, []);

  if (loading) {
    return (
      <div className="flex flex-col lg:flex-row gap-8 lg:gap-12">
        <div className="flex-1 min-w-0 lg:max-w-[728px]">
          <div className="py-12 text-center text-text-2">Loading...</div>
        </div>
        <Sidebar />
      </div>
    );
  }

  if (error) {
    return (
      <div className="flex flex-col lg:flex-row gap-8 lg:gap-12">
        <div className="flex-1 min-w-0 lg:max-w-[728px]">
          <div className="py-12 text-center text-text-2">{error}</div>
        </div>
        <Sidebar />
      </div>
    );
  }

  return (
    <div className="flex flex-col lg:flex-row gap-8 lg:gap-12">
      <div className="flex-1 min-w-0 lg:max-w-[728px]">
        <div className="flex flex-col gap-4">
          {articles.length === 0 ? (
            <div className="py-12 text-center text-text-2"><p>No articles yet. Check back soon!</p></div>
          ) : (
            articles.map((article) => (
              <ArticleCard
                key={article.id}
                id={article.id}
                title={article.title}
                excerpt={article.excerpt}
                authorName={article.author.name}
                publishedAt={new Date(article.publishedAt)}
                readTimeMinutes={article.readTimeMinutes}
                likeCount={article.likeCount ?? 0}
                isLoggedIn={false}
              />
            ))
          )}
        </div>
        {pagination && pagination.totalPages > 1 && (
          <nav className="flex justify-center gap-2 mt-8 pt-8 border-t border-border" aria-label="Pagination">
            <span className="text-sm text-text-3">Page {pagination.page} of {pagination.totalPages}</span>
          </nav>
        )}
      </div>
      <Sidebar />
    </div>
  );
}
```

**`app/articles/[id]/CommentSection.tsx`** ‚Äî Comment section (Client Component)
```tsx
"use client";

import { useState } from "react";

type Comment = {
  id: string;
  authorName: string;
  timeAgo: string;
  content: string;
};

const INITIAL_COMMENTS: Comment[] = [
  {
    id: "1",
    authorName: "John Doe",
    timeAgo: "2 hours ago",
    content:
      "Great article! The point about co-creating systems is particularly insightful.",
  },
  {
    id: "2",
    authorName: "Alex Kim",
    timeAgo: "5 hours ago",
    content:
      "Totally agree. The Alan Kay quote really captures the essence of invisible design.",
  },
];

function getInitials(name: string): string {
  return name
    .split(" ")
    .map((n) => n[0])
    .join("")
    .toUpperCase()
    .slice(0, 2);
}

export function CommentSection() {
  const [comments, setComments] = useState<Comment[]>(INITIAL_COMMENTS);
  const [text, setText] = useState("");

  function handleRespond() {
    const trimmed = text.trim();
    if (!trimmed) return;

    setComments((prev) => [
      ...prev,
      {
        id: `comment-${Date.now()}-${Math.random().toString(36).slice(2)}`,
        authorName: "You",
        timeAgo: "Just now",
        content: trimmed,
      },
    ]);
    setText("");
  }

  return (
    <section className="pt-8 flex flex-col gap-6">
      <div className="h-px bg-border" />
      <h2 className="font-logo text-2xl font-bold text-text-1">Comments</h2>

      {/* Input area */}
      <div className="flex flex-col gap-2">
        <textarea
          placeholder="Write a comment..."
          value={text}
          onChange={(e) => setText(e.target.value)}
          className="w-full rounded-lg bg-surface border border-border p-4 min-h-[106px] text-[15px] text-text-1 placeholder:text-text-3 resize-y focus:outline-none focus:ring-2 focus:ring-primary/20 focus:border-primary"
          rows={3}
        />
        <div className="flex justify-end">
          <button
            type="button"
            onClick={handleRespond}
            disabled={!text.trim()}
            className="rounded-lg bg-primary px-5 py-2.5 font-semibold text-white hover:opacity-90 transition-opacity disabled:opacity-50 disabled:cursor-not-allowed"
          >
            Respond
          </button>
        </div>
      </div>

      {/* Comment list */}
      <div className="flex flex-col divide-y divide-border">
        {comments.map((c) => (
          <div key={c.id} className="flex gap-4 py-4">
            <div
              className={`h-10 w-10 shrink-0 rounded-full flex items-center justify-center text-sm font-bold text-white ${
                c.authorName === "You" || c.id === "1" ? "bg-primary" : "bg-text-2"
              }`}
            >
              {getInitials(c.authorName)}
            </div>
            <div className="flex-1 min-w-0">
              <div className="font-semibold text-sm text-text-1">{c.authorName}</div>
              <div className="text-xs text-text-3">{c.timeAgo}</div>
              <p className="text-[15px] leading-normal text-text-1 mt-1">{c.content}</p>
            </div>
          </div>
        ))}
      </div>
    </section>
  );
}

```

**`app/articles/[id]/page.tsx`** ‚Äî Article detail (Server Component)
```tsx
import { notFound } from "next/navigation";
import Link from "next/link";
import { Heart, Share2 } from "lucide-react";
import { prisma } from "@/lib/prisma";
import { CommentSection } from "./CommentSection";

export const dynamic = "force-dynamic";

type Props = { params: Promise<{ id: string }> };

function getInitials(name: string): string {
  return name
    .split(" ")
    .map((n) => n[0])
    .join("")
    .toUpperCase()
    .slice(0, 2);
}

function getReadTime(content: string): number {
  const text = content.replace(/<[^>]*>/g, " ").replace(/\s+/g, " ");
  const words = text.trim().split(" ").filter(Boolean).length;
  return Math.max(1, Math.ceil(words / 200));
}

export default async function ArticlePage({ params }: Props) {
  const { id } = await params;
  const article = await prisma.article.findUnique({
    where: { id, statusId: 1 },
    include: {
      author: { select: { id: true, name: true } },
      categories: {
        where: { statusId: 1 },
        include: { category: { select: { id: true, name: true } } },
      },
      _count: { select: { likes: true } },
    },
  });

  if (!article) notFound();

  const readTime = getReadTime(article.content);
  const initials = getInitials(article.author.name);
  const plainContent = article.content.replace(/<[^>]*>/g, " ").replace(/\s+/g, " ").trim();
  const excerpt = plainContent.slice(0, 200);
  const dateStr = new Intl.DateTimeFormat("en-US", {
    month: "short",
    day: "numeric",
    year: "numeric",
  }).format(article.createdAt);

  return (
    <article className="max-w-[680px] mx-auto pt-12 pb-12 flex flex-col gap-6">
      {/* Title */}
      <h1 className="font-logo text-[42px] font-bold leading-[1.2] text-text-1">
        {article.title}
      </h1>

      {/* Subtitle - excerpt from content */}
      {excerpt && (
        <p className="font-logo text-2xl font-semibold leading-[1.4] text-text-2">
          {excerpt}{plainContent.length > 200 ? "‚Ä¶" : ""}
        </p>
      )}

      {/* Category chips */}
      {article.categories.length > 0 && (
        <div className="flex flex-wrap gap-2">
          {article.categories.map((ac) => (
            <span
              key={ac.category.id}
              className="inline-flex items-center px-3.5 py-1.5 rounded-full text-[13px] font-medium text-text-1 bg-surface border border-border"
            >
              {ac.category.name}
            </span>
          ))}
        </div>
      )}

      {/* Author bar */}
      <div className="flex items-center gap-3">
        <Link
          href={`/profile/${article.author.id}`}
          className="w-10 h-10 rounded-full bg-primary flex items-center justify-center text-white font-bold text-[15px] shrink-0"
        >
          {initials}
        </Link>
        <div className="flex-1 min-w-0">
          <Link
            href={`/profile/${article.author.id}`}
            className="text-base font-semibold text-text-1 hover:text-primary transition-colors block"
          >
            {article.author.name}
          </Link>
          <p className="text-[13px] text-text-2">
            {dateStr} ¬∑ {readTime} min read
          </p>
        </div>
        <button
          type="button"
          className="px-4 py-2 rounded-full border border-primary text-primary text-sm font-medium hover:bg-primary/5 transition-colors"
        >
          Follow
        </button>
      </div>

      {/* Action bar */}
      <div className="flex items-center gap-5 py-3 border-y border-border">
        <span className={`flex items-center gap-1.5 text-[15px] ${article._count.likes > 0 ? "text-like" : "text-text-2"}`}>
          <Heart
            className="size-[15px]"
            strokeWidth={2}
            fill={article._count.likes > 0 ? "currentColor" : "none"}
          />
          {article._count.likes}
        </span>
        <div className="flex-1" />
        <span className="flex items-center gap-1.5 text-sm text-text-2">
          <Share2 className="size-[14px]" strokeWidth={2} />
          Share
        </span>
      </div>

      {/* Body content */}
      <div
        className="prose prose-neutral max-w-none text-text-1 text-lg leading-[1.8] [&_blockquote]:border-l-4 [&_blockquote]:border-text-1 [&_blockquote]:pl-4 [&_blockquote]:font-logo [&_blockquote]:text-xl [&_blockquote]:font-semibold [&_blockquote]:leading-normal [&_blockquote]:not-italic"
        dangerouslySetInnerHTML={{ __html: article.content }}
      />

      {/* Divider */}
      <div className="h-px bg-border" />

      {/* Bottom author card */}
      <div className="flex gap-6 pt-6">
        <Link
          href={`/profile/${article.author.id}`}
          className="w-20 h-20 rounded-full bg-primary flex items-center justify-center text-white font-bold text-[28px] shrink-0"
        >
          {initials}
        </Link>
        <div className="flex-1 min-w-0">
          <Link
            href={`/profile/${article.author.id}`}
            className="text-xl font-semibold text-text-1 hover:text-primary transition-colors block"
          >
            {article.author.name}
          </Link>
          <p className="text-[15px] text-text-2 leading-[1.6] mt-2">
            Staff writer. Writing about technology and human experience.
          </p>
          <button
            type="button"
            className="mt-2 px-4 py-2 rounded-full border border-primary text-primary text-sm font-medium hover:bg-primary/5 transition-colors"
          >
            Follow
          </button>
        </div>
      </div>

      <CommentSection />
    </article>
  );
}
```

**`prisma/seed.ts`** ‚Äî ‡πÄ‡∏û‡∏¥‡πà‡∏° demo user ‡πÅ‡∏•‡∏∞ articles (‡∏ï‡πà‡∏≠‡∏à‡∏≤‡∏Å‡∏™‡πà‡∏ß‡∏ô status + categories)
```ts
  // Seed demo user and articles for Feed (Step 1.3)
  const demoUser = await prisma.user.upsert({
    where: { email: 'demo@medium.local' },
    update: {},
    create: {
      email: 'demo@medium.local',
      password: 'Pass@word123',
      name: 'Demo Author',
      statusId: 1,
    },
  })

  await prisma.article.deleteMany({ where: { authorId: demoUser.id } })

  const articles = [
    {
      title: 'The Future of Human-Computer Interaction in 2025',
      content: '<p>As AI systems become more capable, the relationship between humans and computers is evolving in unexpected ways. This article explores the trends shaping our digital future.</p><p>From voice interfaces to ambient computing, we are moving toward a world where technology fades into the background.</p>',
    },
    {
      title: 'The Last Programmer ‚Äî A Short Story About AI',
      content: '<p>Artificial intelligence is no longer a distant dream. It is here, and it is changing how we work, create, and connect.</p>',
    },
    {
      title: 'Building a Medium Clone with Next.js and Prisma',
      content: '<p>Learn how to build a blog platform similar to Medium using Next.js 16, Prisma, and Tailwind CSS. We will cover authentication, article CRUD, and a responsive feed layout.</p>',
    },
  ]

  for (const { title, content } of articles) {
    await prisma.article.create({
      data: { title, content, authorId: demoUser.id, statusId: 1 },
    })
  }
```

**`app/components/ArticleCard.tsx`** ‚Äî Article card component
```tsx
import Link from "next/link";
import { Heart, Bookmark } from "lucide-react";

type ArticleCardProps = {
  id: string;
  title: string;
  excerpt: string;
  authorName: string;
  publishedAt: Date;
  readTimeMinutes?: number;
  categoryName?: string;
  likeCount?: number;
  isLoggedIn?: boolean;
};

function getInitials(name: string): string {
  const parts = name.trim().split(/\s+/);
  if (parts.length >= 2) return (parts[0][0] + parts[parts.length - 1][0]).toUpperCase();
  return name.slice(0, 2).toUpperCase();
}

export default function ArticleCard({
  id, title, excerpt, authorName, publishedAt,
  readTimeMinutes = 5, categoryName, likeCount = 0, isLoggedIn = false,
}: ArticleCardProps) {
  return (
    <article className="border border-border rounded-lg py-6 px-6">
      <div className="flex flex-col gap-2">
        <div className="flex items-center gap-2">
          <span className="w-6 h-6 rounded-full bg-primary shrink-0 flex items-center justify-center text-white text-[10px] font-medium" aria-hidden>
            {getInitials(authorName)}
          </span>
          <span className="text-[13px] font-medium text-text-1">{authorName}</span>
        </div>
        <Link href={`/articles/${id}`} className="block group">
          <h2 className="text-xl font-semibold text-text-1 group-hover:text-primary transition-colors line-clamp-2">{title}</h2>
        </Link>
        <p className="text-sm text-text-2 line-clamp-2">{excerpt}</p>
        <div className="flex items-center gap-3 text-[13px] text-text-2">
          <span className="rounded-full bg-surface px-2.5 py-1 text-xs font-medium text-text-1">{categoryName ?? "Technology"}</span>
          <span>{readTimeMinutes} min read</span>
          <span className={`flex items-center gap-1 ${likeCount > 0 ? "text-like" : ""}`}>
            <Heart className="w-3.5 h-3.5" strokeWidth={2} fill={likeCount > 0 ? "currentColor" : "none"} />
            {likeCount}
          </span>
          <button type="button" disabled={!isLoggedIn} className={`ml-auto p-0.5 ${!isLoggedIn ? "cursor-not-allowed opacity-50" : "hover:opacity-80"}`} aria-label={isLoggedIn ? "Bookmark" : "Login to bookmark"}>
            <Bookmark className="w-3.5 h-3.5" strokeWidth={2} />
          </button>
        </div>
      </div>
    </article>
  );
}
```

**`app/components/Sidebar.tsx`** ‚Äî Sidebar component
```tsx
import Link from "next/link";

const POPULAR_ARTICLES = [
  { title: "The Last Programmer ‚Äî A Short Story About AI", author: "Yuki Tanaka", href: "#" },
  { title: "How I Went From Burnout to Building a Profitable Solo Business", author: "Alex Chen", href: "#" },
  { title: "Climate Tech Is Having Its Moment ‚Äî Here's What to Watch", author: "Maria Santos", href: "#" },
];

const TOPICS = ["Technology", "Design", "Culture", "Business", "Politics", "Science", "Health", "Writing", "Art", "Music"];

function getInitials(name: string): string {
  const parts = name.trim().split(/\s+/);
  if (parts.length >= 2) return (parts[0][0] + parts[parts.length - 1][0]).toUpperCase();
  return name.slice(0, 2).toUpperCase();
}

const FOOTER_LINKS = [
  { label: "Help", href: "#" },
  { label: "About", href: "#" },
  { label: "Privacy", href: "#" },
  { label: "Terms", href: "#" },
];

export default function Sidebar() {
  return (
    <aside className="w-full lg:w-[296px] shrink-0">
      <div className="lg:sticky lg:top-24 space-y-8">
        <section>
          <h3 className="text-[13px] font-bold text-text-1 mb-4">Popular Articles</h3>
          <ul className="flex flex-col gap-4">
            {POPULAR_ARTICLES.map((item, i) => (
              <li key={i}>
                <Link href={item.href} className="block group">
                  <div className="flex items-center gap-2 mb-2">
                    <span className="w-5 h-5 rounded-full bg-primary shrink-0 flex items-center justify-center text-white text-[10px] font-medium" aria-hidden>{getInitials(item.author)}</span>
                    <span className="text-xs font-medium text-text-1">{item.author}</span>
                  </div>
                  <span className="text-sm font-semibold text-text-1 group-hover:text-primary transition-colors line-clamp-2">{item.title}</span>
                </Link>
              </li>
            ))}
          </ul>
        </section>
        <div className="h-px bg-border" />
        <section>
          <h3 className="text-xs font-semibold uppercase tracking-wider text-text-3 mb-4">Recommended topics</h3>
          <div className="flex flex-wrap gap-2">
            {TOPICS.map((topic) => (
              <Link key={topic} href={`/topics/${topic.toLowerCase()}`} className="rounded-full bg-surface px-4 py-2 text-sm text-text-2 hover:bg-border hover:text-text-1 transition-colors">
                {topic}
              </Link>
            ))}
          </div>
        </section>
        <div className="h-px bg-border" />
        <footer className="flex flex-wrap gap-2 text-sm text-text-3">
          {FOOTER_LINKS.map((link, i) => (
            <span key={link.label} className="flex items-center gap-2">
              <Link href={link.href} className="hover:text-text-2 transition-colors">{link.label}</Link>
              {i < FOOTER_LINKS.length - 1 && <span>¬∑</span>}
            </span>
          ))}
        </footer>
      </div>
    </aside>
  );
}
```

**`app/loading.tsx`** ‚Äî Skeleton loading ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö Feed
```tsx
export default function Loading() {
  return (
    <div className="flex flex-col lg:flex-row gap-8 lg:gap-12 animate-pulse">
      <div className="flex-1 min-w-0 lg:max-w-[728px] space-y-6">
        {[1, 2, 3].map((i) => (
          <div key={i} className="flex gap-4 py-6 border-b border-border">
            <div className="flex-1 space-y-2">
              <div className="h-4 w-24 bg-surface rounded" />
              <div className="h-6 w-3/4 bg-surface rounded" />
              <div className="h-4 w-full bg-surface rounded" />
              <div className="h-3 w-32 bg-surface rounded" />
            </div>
            <div className="shrink-0 w-28 h-28 rounded-lg bg-surface" />
          </div>
        ))}
      </div>
      <div className="w-full lg:w-[296px] shrink-0 space-y-4">
        <div className="h-4 w-24 bg-surface rounded" />
        <div className="space-y-2">
          <div className="h-4 w-full bg-surface rounded" />
          <div className="h-4 w-4/5 bg-surface rounded" />
          <div className="h-4 w-3/4 bg-surface rounded" />
        </div>
      </div>
    </div>
  );
}
```

---

### Optional: Prisma getDatabaseUrl (Monorepo)

‡∏ñ‡πâ‡∏≤‡πÇ‡∏õ‡∏£‡πÄ‡∏à‡∏Å‡∏ï‡πå‡πÄ‡∏õ‡πá‡∏ô monorepo ‡πÅ‡∏•‡∏∞‡∏£‡∏±‡∏ô seed ‡∏à‡∏≤‡∏Å root ‡∏≠‡∏≤‡∏à‡∏ï‡πâ‡∏≠‡∏á‡πÅ‡∏Å‡πâ `lib/prisma.ts` ‡πÉ‡∏´‡πâ resolve path ‡∏Ç‡∏≠‡∏á `dev.db` ‡πÑ‡∏î‡πâ‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á:

```ts
import { PrismaClient } from '../app/generated/prisma/client'

const globalForPrisma = globalThis as unknown as { prisma?: PrismaClient }

function getDatabaseUrl(): string | undefined {
  const url = process.env.DATABASE_URL

  // PostgreSQL: use URL as-is
  if (url?.startsWith('postgresql://') || url?.startsWith('postgres://')) {
    return url
  }

  return url
}

export const prisma =
  globalForPrisma.prisma ??
  new PrismaClient({
    datasources: { db: { url: getDatabaseUrl() } },
    log: process.env.NODE_ENV === 'development' ? ['query', 'error', 'warn'] : ['error'],
  })

if (process.env.NODE_ENV !== 'production') {
  globalForPrisma.prisma = prisma
}
```

---

## Step 1.4 ‚Äî Login Page UI

### ‡∏ó‡∏≥‡∏≠‡∏∞‡πÑ‡∏£
- ‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏´‡∏ô‡πâ‡∏≤ Login (`/login`) ‡∏ï‡∏≤‡∏° design ‡πÉ‡∏ô design.pen (node p3K9Q ‚Äî Page 3 Sign In)
- ‡πÄ‡∏â‡∏û‡∏≤‡∏∞‡∏™‡πà‡∏ß‡∏ô UI Design ‚Äî ‡πÑ‡∏°‡πà‡∏°‡∏µ logic auth ‡∏à‡∏£‡∏¥‡∏á
- ‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö responsive (mobile, tablet, desktop)

### ‡∏≠‡∏ò‡∏¥‡∏ö‡∏≤‡∏¢
- **Route:** `app/(auth)/login/page.tsx` ‚Äî ‡πÉ‡∏ä‡πâ route group `(auth)` ‡∏ï‡∏≤‡∏° nextjs-core
- **Design:** Card 400px, logo "Medium", title "Welcome back.", subtitle "Sign in with your email.", ‡∏ä‡πà‡∏≠‡∏á Email, Password (‡∏°‡∏µ Show/Hide), ‡∏õ‡∏∏‡πà‡∏° Sign in, ‡∏•‡∏¥‡∏á‡∏Å‡πå "No account? Create one"
- **Responsive:** Card `max-w-[400px]` ‡∏ö‡∏ô mobile, padding ‡∏õ‡∏£‡∏±‡∏ö‡∏ï‡∏≤‡∏° breakpoint
- **UI only:** Form ‡∏°‡∏µ `preventDefault` ‚Äî ‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏° API ‡∏´‡∏£‡∏∑‡∏≠ session

### Code

**`app/(auth)/login/page.tsx`** ‚Äî Login page (Server Component)
```tsx
import type { Metadata } from "next";
import LoginForm from "./LoginForm";

export const metadata: Metadata = {
  title: "Sign in ‚Äì Medium",
  description: "Sign in to your Medium account.",
};

export default function LoginPage() {
  return (
    <div className="min-h-[calc(100vh-57px-4rem)] flex flex-col items-center justify-center px-4 py-8 sm:py-12">
      <div className="w-full max-w-[400px] bg-white rounded-lg border border-border p-6 sm:p-10 sm:px-12 sm:py-10 flex flex-col gap-6">
        <div className="flex flex-col gap-1">
          <h1 className="font-logo text-[28px] font-bold text-text-1">Medium</h1>
          <h2 className="font-logo text-[32px] font-bold text-text-1 leading-tight">
            Welcome back.
          </h2>
          <p className="text-sm text-text-2">Sign in with your email.</p>
        </div>
        <LoginForm />
      </div>
    </div>
  );
}
```

**`app/(auth)/login/LoginForm.tsx`** ‚Äî Form (Client Component)
```tsx
"use client";

import Link from "next/link";
import { useState } from "react";

export default function LoginForm() {
  const [showPassword, setShowPassword] = useState(false);

  function handleSubmit(e: React.FormEvent) {
    e.preventDefault();
    // UI only ‚Äî no auth logic yet
  }

  return (
    <form onSubmit={handleSubmit} className="flex flex-col gap-6">
      <div className="flex flex-col gap-1">
        <label htmlFor="email" className="text-[13px] font-medium text-text-1">
          Email
        </label>
        <input
          id="email"
          type="email"
          name="email"
          placeholder="you@example.com"
          className="h-10 w-full px-3 border border-border rounded text-[15px] text-text-1 placeholder:text-text-3 bg-white focus:outline-none focus:border-primary"
          autoComplete="email"
        />
      </div>
      <div className="flex flex-col gap-1">
        <label htmlFor="password" className="text-[13px] font-medium text-text-1">
          Password
        </label>
        <div className="flex h-10 w-full items-center justify-between gap-2 rounded border border-border bg-white px-3 focus-within:border-primary focus-within:outline-none focus-within:ring-1 focus-within:ring-primary">
          <input
            id="password"
            type={showPassword ? "text" : "password"}
            name="password"
            placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢"
            className="flex-1 min-w-0 bg-transparent text-[15px] text-text-1 placeholder:text-text-3 focus:outline-none"
            autoComplete="current-password"
          />
          <button
            type="button"
            onClick={() => setShowPassword((p) => !p)}
            className="text-[13px] text-text-2 hover:text-text-1 shrink-0"
          >
            {showPassword ? "Hide" : "Show"}
          </button>
        </div>
      </div>
      <button
        type="submit"
        className="h-11 w-full rounded-full bg-primary text-white font-medium text-base hover:opacity-90 transition-opacity"
      >
        Sign in
      </button>
      <p className="text-center text-sm text-text-2">
        No account?{" "}
        <Link href="/register" className="font-semibold text-primary hover:underline">
          Create one
        </Link>
      </p>
    </form>
  );
}
```

---

## Step 1.5 ‚Äî Register Page UI

### ‡∏ó‡∏≥‡∏≠‡∏∞‡πÑ‡∏£
- ‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏´‡∏ô‡πâ‡∏≤ Register (`/register`) ‡∏ï‡∏≤‡∏° design ‡πÉ‡∏ô design.pen (node FYiSq ‚Äî Page 4 Register)
- ‡πÄ‡∏â‡∏û‡∏≤‡∏∞‡∏™‡πà‡∏ß‡∏ô UI Design ‚Äî ‡πÑ‡∏°‡πà‡∏°‡∏µ logic auth ‡∏à‡∏£‡∏¥‡∏á
- ‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö responsive (mobile, tablet, desktop)

### ‡∏≠‡∏ò‡∏¥‡∏ö‡∏≤‡∏¢
- **Route:** `app/(auth)/register/page.tsx` ‚Äî ‡πÉ‡∏ä‡πâ route group `(auth)` ‡∏ï‡∏≤‡∏° nextjs-core
- **Design:** Card 400px, logo "Medium", title "Join Medium.", subtitle "Create your account.", ‡∏ä‡πà‡∏≠‡∏á Full Name, Email, Password (‡∏°‡∏µ Show/Hide), ‡∏õ‡∏∏‡πà‡∏° Create account, ‡∏•‡∏¥‡∏á‡∏Å‡πå "Already have an account? Sign in"
- **Responsive:** Card `max-w-[400px]` ‡∏ö‡∏ô mobile, padding ‡∏õ‡∏£‡∏±‡∏ö‡∏ï‡∏≤‡∏° breakpoint (p-6 sm:p-10 sm:px-12 sm:py-10)
- **UI only:** Form ‡∏°‡∏µ `preventDefault` ‚Äî ‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏° API ‡∏´‡∏£‡∏∑‡∏≠ session

### Code

**`app/(auth)/register/page.tsx`** ‚Äî Register page (Server Component)
```tsx
import type { Metadata } from "next";
import RegisterForm from "./RegisterForm";

export const metadata: Metadata = {
  title: "Create account ‚Äì Medium",
  description: "Create your Medium account.",
};

export default function RegisterPage() {
  return (
    <div className="min-h-[calc(100vh-57px-4rem)] flex flex-col items-center justify-center px-4 py-8 sm:py-12">
      <div className="w-full max-w-[400px] bg-white rounded-lg border border-border p-6 sm:p-10 sm:px-12 sm:py-10 flex flex-col gap-6">
        <div className="flex flex-col gap-1">
          <h1 className="font-logo text-[28px] font-bold text-text-1">Medium</h1>
          <h2 className="font-logo text-[32px] font-bold text-text-1 leading-tight">
            Join Medium.
          </h2>
          <p className="text-sm text-text-2">Create your account.</p>
        </div>
        <RegisterForm />
      </div>
    </div>
  );
}
```

**`app/(auth)/register/RegisterForm.tsx`** ‚Äî Form (Client Component)
```tsx
"use client";

import Link from "next/link";
import { useState } from "react";

export default function RegisterForm() {
  const [showPassword, setShowPassword] = useState(false);

  function handleSubmit(e: React.FormEvent) {
    e.preventDefault();
    // UI only ‚Äî no auth logic yet
  }

  return (
    <form onSubmit={handleSubmit} className="flex flex-col gap-6">
      <div className="flex flex-col gap-1">
        <label htmlFor="name" className="text-[13px] font-medium text-text-1">
          Full Name
        </label>
        <input
          id="name"
          type="text"
          name="name"
          placeholder="Your name"
          className="h-10 w-full px-3 border border-border rounded text-[15px] text-text-1 placeholder:text-text-3 bg-white focus:outline-none focus:border-primary"
          autoComplete="name"
        />
      </div>
      <div className="flex flex-col gap-1">
        <label htmlFor="email" className="text-[13px] font-medium text-text-1">
          Email
        </label>
        <input
          id="email"
          type="email"
          name="email"
          placeholder="you@example.com"
          className="h-10 w-full px-3 border border-border rounded text-[15px] text-text-1 placeholder:text-text-3 bg-white focus:outline-none focus:border-primary"
          autoComplete="email"
        />
      </div>
      <div className="flex flex-col gap-1">
        <label htmlFor="password" className="text-[13px] font-medium text-text-1">
          Password
        </label>
        <div className="flex h-10 w-full items-center justify-between gap-2 rounded border border-border bg-white px-3 focus-within:border-primary focus-within:outline-none focus-within:ring-1 focus-within:ring-primary">
          <input
            id="password"
            type={showPassword ? "text" : "password"}
            name="password"
            placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢"
            className="flex-1 min-w-0 bg-transparent text-[15px] text-text-1 placeholder:text-text-3 focus:outline-none"
            autoComplete="new-password"
          />
          <button
            type="button"
            onClick={() => setShowPassword((p) => !p)}
            className="text-[13px] text-text-2 hover:text-text-1 shrink-0"
          >
            {showPassword ? "Hide" : "Show"}
          </button>
        </div>
      </div>
      <button
        type="submit"
        className="h-11 w-full rounded-full bg-primary text-white font-medium text-base hover:opacity-90 transition-opacity"
      >
        Create account
      </button>
      <p className="text-center text-sm text-text-2">
        Already have an account?{" "}
        <Link href="/login" className="font-semibold text-primary hover:underline">
          Sign in
        </Link>
      </p>
    </form>
  );
}
```

---

## Step 1.6 ‚Äî Header (‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï responsive + theme)

### 1.6.1 ‡∏Å‡∏≤‡∏£‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡πÅ‡∏õ‡∏•‡∏á

‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï `web/app/components/Header.tsx` ‡πÉ‡∏´‡πâ‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö responsive ‡πÅ‡∏•‡∏∞‡πÉ‡∏ä‡πâ design tokens ‡∏à‡∏≤‡∏Å theme:

- **Responsive:** Desktop ‡πÅ‡∏™‡∏î‡∏á nav ‡πÅ‡∏ô‡∏ß‡∏ô‡∏≠‡∏ô; Mobile ‡πÅ‡∏™‡∏î‡∏á hamburger menu + dropdown
- **Theme tokens:** ‡πÉ‡∏ä‡πâ `text-text-1`, `text-text-2`, `bg-bg`, `border-border`, `primary` ‡πÅ‡∏ó‡∏ô‡∏™‡∏µ hardcode
- **‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞ login:** ‡πÅ‡∏™‡∏î‡∏á Write + Avatar ‡πÄ‡∏°‡∏∑‡πà‡∏≠ `isLoggedIn`; ‡πÅ‡∏™‡∏î‡∏á Login + Register ‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà login (TODO: wire to auth)
- **Mobile menu:** ‡∏õ‡∏∏‡πà‡∏° hamburger ‡∏™‡∏•‡∏±‡∏ö‡πÄ‡∏õ‡πá‡∏ô X ‡πÄ‡∏°‡∏∑‡πà‡∏≠‡πÄ‡∏õ‡∏¥‡∏î, dropdown ‡πÅ‡∏™‡∏î‡∏á‡∏•‡∏¥‡∏á‡∏Å‡πå Write/Profile ‡∏´‡∏£‡∏∑‡∏≠ Login/Register

**`web/app/components/Header.tsx`**
```tsx
"use client";

import Link from "next/link";
import { useState } from "react";

export default function Header() {
  const [mobileMenuOpen, setMobileMenuOpen] = useState(false);
  const isLoggedIn = true; // TODO: wire to auth

  return (
    <header className="relative h-[57px] flex items-center justify-between px-4 sm:px-6 lg:px-11 border-b border-border bg-bg">
      <Link
        href="/"
        className="font-logo text-2xl font-bold text-text-1 hover:text-primary transition-colors"
      >
        Medium
      </Link>

      {/* Desktop nav */}
      <nav className="hidden md:flex items-center gap-4">
        {isLoggedIn ? (
          <>
            <Link
              href="/write"
              className="text-text-2 hover:text-text-1 text-sm"
            >
              Write
            </Link>
            <Link
              href="/profile"
              className="w-9 h-9 rounded-full bg-primary flex items-center justify-center text-white font-medium text-sm"
              aria-label="Profile"
            >
              A
            </Link>
          </>
        ) : (
          <>
            <Link
              href="/login"
              className="text-text-2 hover:text-text-1 text-sm"
            >
              Login
            </Link>
            <Link
              href="/register"
              className="text-text-2 hover:text-text-1 text-sm"
            >
              Register
            </Link>
          </>
        )}
      </nav>

      {/* Mobile: hamburger + condensed nav */}
      <div className="flex md:hidden items-center gap-2">
        <button
          type="button"
          onClick={() => setMobileMenuOpen((o) => !o)}
          className="p-2 -mr-2 text-text-1"
          aria-label="Toggle menu"
          aria-expanded={mobileMenuOpen}
        >
          <svg
            className="w-6 h-6"
            fill="none"
            stroke="currentColor"
            viewBox="0 0 24 24"
          >
            {mobileMenuOpen ? (
              <path
                strokeLinecap="round"
                strokeLinejoin="round"
                strokeWidth={2}
                d="M6 18L18 6M6 6l12 12"
              />
            ) : (
              <path
                strokeLinecap="round"
                strokeLinejoin="round"
                strokeWidth={2}
                d="M4 6h16M4 12h16M4 18h16"
              />
            )}
          </svg>
        </button>
      </div>

      {/* Mobile menu dropdown */}
      {mobileMenuOpen && (
        <div
          className="absolute top-[57px] left-0 right-0 bg-bg border-b border-border shadow-md md:hidden z-10"
          role="dialog"
          aria-label="Mobile menu"
        >
          <nav className="flex flex-col p-4 gap-2">
            {isLoggedIn ? (
              <>
                <Link
                  href="/write"
                  className="py-2 text-text-1"
                  onClick={() => setMobileMenuOpen(false)}
                >
                  Write
                </Link>
                <Link
                  href="/profile"
                  className="py-2 text-text-1"
                  onClick={() => setMobileMenuOpen(false)}
                >
                  Profile
                </Link>
              </>
            ) : (
              <>
                <Link
                  href="/login"
                  className="py-2 text-text-1"
                  onClick={() => setMobileMenuOpen(false)}
                >
                  Login
                </Link>
                <Link
                  href="/register"
                  className="py-2 text-text-1"
                  onClick={() => setMobileMenuOpen(false)}
                >
                  Register
                </Link>
              </>
            )}
          </nav>
        </div>
      )}
    </header>
  );
}
```

---
